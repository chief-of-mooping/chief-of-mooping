
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ระบบปรึกษาการวิจัยเชิงปริมาณ - Research Methodology Advisor</title>
    
    <!-- External Libraries -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            margin: 0;
            padding: 0;
        }
        .custom-brown { background-color: #8B4513; }
        .custom-cream { background-color: #F5F5DC; }
        .custom-brick { background-color: #CD853F; }
        .custom-gold { background-color: #DAA520; }
    </style>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'custom-brown': '#8B4513',
                        'custom-cream': '#F5F5DC',
                        'custom-brick': '#CD853F',
                        'custom-gold': '#DAA520',
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Database ทฤษฎีการวิจัย
        const researchDatabase = {
            theories: {
                'tam': {
                    id: 'tam',
                    name: 'Technology Acceptance Model (TAM)',
                    author: 'Davis (1989)',
                    domain: 'digital_marketing',
                    factors: ['Perceived Usefulness (PU)', 'Perceived Ease of Use (PEOU)', 'Attitude Toward Using', 'Behavioral Intention'],
                    relationships: 'PU + PEOU → Attitude → Behavioral Intention → Actual Use',
                    prediction: 'การรับรู้ประโยชน์และความง่ายในการใช้งานจะส่งผลต่อทัศนคติและความตั้งใจในการใช้เทคโนโลยี',
                    keywords: ['technology', 'acceptance', 'digital', 'adoption', 'system', 'user', 'เทคโนโลยี', 'ยอมรับ', 'ระบบ'],
                    level: 2,
                    statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'Multiple Regression'],
                    description: 'ทฤษฎีที่อธิบายพฤติกรรมการยอมรับเทคโนโลยีของผู้ใช้ โดยเน้นที่การรับรู้ประโยชน์และความง่ายในการใช้งาน'
                },
                'tpb': {
                    id: 'tpb',
                    name: 'Theory of Planned Behavior (TPB)',
                    author: 'Ajzen (1991)',
                    domain: 'digital_marketing',
                    factors: ['Attitude', 'Subjective Norm', 'Perceived Behavioral Control', 'Behavioral Intention'],
                    relationships: 'Attitude + Subjective Norm + PBC → Intention → Behavior',
                    prediction: 'ทัศนคติ บรรทัดฐานทางสังคม และการควบคุมพฤติกรรมจะส่งผลต่อความตั้งใจและพฤติกรรม',
                    keywords: ['behavior', 'intention', 'attitude', 'norm', 'control', 'พฤติกรรม', 'ความตั้งใจ', 'ทัศนคติ'],
                    level: 2,
                    statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'SEM'],
                    description: 'ทฤษฎีที่อธิบายความตั้งใจและพฤติกรรมของบุคคลผ่านทัศนคติ บรรทัดฐานสังคม และการควบคุมพฤติกรรม'
                },
                'social_capital': {
                    id: 'social_capital',
                    name: 'Social Capital Theory',
                    author: 'Coleman (1988), Bourdieu (1986)',
                    domain: 'social_capital',
                    factors: ['Structural Capital', 'Relational Capital', 'Cognitive Capital', 'Social Networks'],
                    relationships: 'Structural + Relational + Cognitive → Social Capital → Performance',
                    prediction: 'ทุนทางสังคมในรูปแบบต่างๆ จะส่งผลต่อประสิทธิภาพและผลลัพธ์ขององค์กร',
                    keywords: ['social', 'capital', 'network', 'relationship', 'trust', 'สังคม', 'ทุน', 'เครือข่าย', 'ความสัมพันธ์'],
                    level: 2,
                    statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'Multiple Regression'],
                    description: 'ทฤษฎีที่อธิบายคุณค่าของความสัมพันธ์ทางสังคมและเครือข่ายที่ส่งผลต่อผลลัพธ์'
                },
                'rbv': {
                    id: 'rbv',
                    name: 'Resource-Based View (RBV)',
                    author: 'Barney (1991)',
                    domain: 'management',
                    factors: ['Valuable Resources', 'Rare Resources', 'Inimitable Resources', 'Organized Resources'],
                    relationships: 'VRIO Resources → Competitive Advantage → Superior Performance',
                    prediction: 'ทรัพยากรที่มีคุณค่า หายาก เลียนแบบยาก และจัดการได้ดีจะสร้างความได้เปรียบทางการแข่งขัน',
                    keywords: ['resource', 'competitive', 'advantage', 'valuable', 'rare', 'ทรัพยากร', 'การแข่งขัน', 'ความได้เปรียบ', 'บริหาร'],
                    level: 2,
                    statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'Multiple Regression'],
                    description: 'ทฤษฎีที่เน้นความสำคัญของทรัพยากรภายในองค์กรในการสร้างความได้เปรียบทางการแข่งขัน'
                }
            },
            levels: {
                1: {
                    name: 'ระดับพื้นฐาน',
                    steps: '3-5',
                    description: 'เหมาะสำหรับนักศึกษาใหม่หรือการวิจัยเบื้องต้น',
                    methods: ['Descriptive Statistics', 'Reliability Analysis', 'T-test/ANOVA', 'Correlation']
                },
                2: {
                    name: 'ระดับกลาง',
                    steps: '6-8',
                    description: 'เหมาะสำหรับการวิจัยระดับปริญญาโทหรือมีประสบการณ์บ้าง',
                    methods: ['Data Preparation', 'Descriptive', 'Reliability', 'EFA', 'Multiple Regression']
                },
                3: {
                    name: 'ระดับสูง',
                    steps: '10-15',
                    description: 'เหมาะสำหรับการวิจัยระดับปริญญาเอกหรือมืออาชีพ',
                    methods: ['Data Screening', 'CMB Testing', 'EFA', 'CFA', 'SEM', 'Mediation/Moderation']
                }
            }
        };

        // Landing Page Component
        const LandingPage = ({ onAnalyze }) => {
            const [researchTopic, setResearchTopic] = useState('');
            
            const exampleTopics = [
                'ศึกษาปัจจัยที่มีผลต่อการยอมรับเทคโนโลยีการเรียนออนไลน์ของนักศึกษา',
                'วิเคราะห์ความสัมพันธ์ระหว่างทุนทางสังคมกับประสิทธิภาพการทำงานของพนักงาน',
                'ศึกษาผลกระทบของการตลาดดิจิทัลต่อความตั้งใจซื้อของผู้บริโภค',
                'วิเคราะห์ปัจจัยที่ส่งผลต่อความสำเร็จของการบริหารโครงการในองค์กร'
            ];

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
                    <div className="container mx-auto px-4 py-16">
                        <div className="text-center mb-12">
                            <h1 className="text-4xl font-bold text-amber-900 mb-4">
                                ระบบปรึกษาการวิจัยเชิงปริมาณ
                            </h1>
                            <p className="text-xl text-amber-700 mb-8">
                                Research Methodology Advisor - เครื่องมือช่วยวางแผนการวิจัยแบบครบวงจร
                            </p>
                        </div>

                        <div className="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
                            <h2 className="text-2xl font-semibold text-gray-800 mb-6">
                                กรุณาใส่โจทย์วิจัยหรือหัวข้อที่คุณสนใจศึกษา
                            </h2>
                            
                            <textarea
                                value={researchTopic}
                                onChange={(e) => setResearchTopic(e.target.value)}
                                placeholder="เช่น ศึกษาปัจจัยที่มีผลต่อการยอมรับเทคโนโลยีการเรียนออนไลน์ของนักศึกษา..."
                                className="w-full h-32 p-4 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none resize-none"
                            />

                            <button
                                onClick={() => onAnalyze(researchTopic)}
                                disabled={!researchTopic.trim()}
                                className="w-full mt-6 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors"
                            >
                                วิเคราะห์โจทย์วิจัย
                            </button>

                            <div className="mt-8">
                                <h3 className="text-lg font-medium text-gray-700 mb-4">ตัวอย่างโจทย์วิจัย:</h3>
                                <div className="grid gap-3">
                                    {exampleTopics.map((topic, index) => (
                                        <button
                                            key={index}
                                            onClick={() => setResearchTopic(topic)}
                                            className="text-left p-3 bg-amber-50 hover:bg-amber-100 rounded-lg border border-amber-200 transition-colors"
                                        >
                                            <span className="text-amber-800">{index + 1}. </span>
                                            <span className="text-gray-700">{topic}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Level Selection Component
        const LevelSelection = ({ researchTopic, onSelectLevel }) => {
            const levelCards = [
                {
                    level: 1,
                    title: 'ระดับพื้นฐาน',
                    steps: '3-5 ขั้นตอน',
                    time: '2-3 เดือน',
                    description: 'เหมาะสำหรับนักศึกษาปริญญาตรีหรือผู้เริ่มต้นทำวิจัย',
                    methods: ['สถิติเชิงพรรณนา', 'การทดสอบความเชื่อมั่น', 'T-test/ANOVA', 'สหสัมพันธ์'],
                    color: 'green',
                    icon: '📊'
                },
                {
                    level: 2,
                    title: 'ระดับกลาง',
                    steps: '6-8 ขั้นตอน',
                    time: '4-6 เดือน',
                    description: 'เหมาะสำหรับนักศึกษาปริญญาโทหรือผู้มีประสบการณ์การวิจัยบ้าง',
                    methods: ['การเตรียมข้อมูล', 'EFA', 'การถดถอยพหุคูณ', 'การวิเคราะห์กลุ่ม'],
                    color: 'blue',
                    icon: '📈'
                },
                {
                    level: 3,
                    title: 'ระดับสูง',
                    steps: '10-15 ขั้นตอน',
                    time: '8-12 เดือน',
                    description: 'เหมาะสำหรับนักศึกษาปริญญาเอกหรือนักวิจัยมืออาชีพ',
                    methods: ['CMB Testing', 'CFA', 'SEM', 'การวิเคราะห์ตัวแปรคั่นกลาง', 'Multi-group Analysis'],
                    color: 'purple',
                    icon: '🎯'
                }
            ];

            const getColorClasses = (color) => {
                const colors = {
                    green: 'bg-green-50 border-green-200 hover:bg-green-100',
                    blue: 'bg-blue-50 border-blue-200 hover:bg-blue-100',
                    purple: 'bg-purple-50 border-purple-200 hover:bg-purple-100'
                };
                return colors[color];
            };

            const getButtonColor = (color) => {
                const colors = {
                    green: 'bg-green-600 hover:bg-green-700',
                    blue: 'bg-blue-600 hover:bg-blue-700',
                    purple: 'bg-purple-600 hover:bg-purple-700'
                };
                return colors[color];
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
                    <div className="container mx-auto px-4 py-8">
                        <div className="max-w-6xl mx-auto">
                            <div className="text-center mb-8">
                                <h1 className="text-3xl font-bold text-amber-900 mb-4">
                                    เลือกระดับความซับซ้อนของการวิจัย
                                </h1>
                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                    <p className="text-gray-600 mb-2">โจทย์วิจัยของคุณ:</p>
                                    <p className="text-gray-800 font-medium">{researchTopic}</p>
                                </div>
                            </div>

                            <div className="grid md:grid-cols-3 gap-6">
                                {levelCards.map((card) => (
                                    <div
                                        key={card.level}
                                        className={`${getColorClasses(card.color)} border-2 rounded-lg p-6 transition-all duration-200 hover:shadow-lg`}
                                    >
                                        <div className="text-center mb-4">
                                            <div className="text-4xl mb-2">{card.icon}</div>
                                            <h3 className="text-2xl font-bold text-gray-800">{card.title}</h3>
                                        </div>

                                        <div className="space-y-3 mb-6">
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">ขั้นตอน:</span>
                                                <span className="font-semibold text-gray-800">{card.steps}</span>
                                            </div>
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">ระยะเวลา:</span>
                                                <span className="font-semibold text-gray-800">{card.time}</span>
                                            </div>
                                        </div>

                                        <p className="text-gray-700 mb-4 text-sm">
                                            {card.description}
                                        </p>

                                        <div className="mb-6">
                                            <h4 className="font-semibold text-gray-800 mb-2">วิธีการวิเคราะห์:</h4>
                                            <ul className="text-sm text-gray-600 space-y-1">
                                                {card.methods.map((method, index) => (
                                                    <li key={index} className="flex items-center">
                                                        <span className="w-2 h-2 bg-gray-400 rounded-full mr-2"></span>
                                                        {method}
                                                    </li>
                                                ))}
                                            </ul>
                                        </div>

                                        <button
                                            onClick={() => onSelectLevel(card.level)}
                                            className={`w-full ${getButtonColor(card.color)} text-white font-semibold py-3 px-4 rounded-lg transition-colors`}
                                        >
                                            เลือกระดับนี้
                                        </button>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Theory Selection Component
        const TheorySelection = ({ researchTopic, selectedLevel, onSelectTheory }) => {
            const [selectedTheoryId, setSelectedTheoryId] = useState(null);

            // ฟังก์ชันค้นหาทฤษฎีที่เกี่ยวข้อง
            const findRelevantTheories = (topic) => {
                const topicLower = topic.toLowerCase();
                const relevantTheories = [];

                Object.values(researchDatabase.theories).forEach(theory => {
                    let score = 0;
                    
                    // ตรวจสอบ keywords
                    theory.keywords.forEach(keyword => {
                        if (topicLower.includes(keyword.toLowerCase())) {
                            score += 2;
                        }
                    });

                    // ตรวจสอบชื่อทฤษฎี
                    if (topicLower.includes(theory.name.toLowerCase())) {
                        score += 3;
                    }

                    // ตรวจสอบ domain
                    if (topicLower.includes('เทคโนโลยี') || topicLower.includes('ดิจิทัล') || topicLower.includes('ออนไลน์')) {
                        if (theory.domain === 'digital_marketing') score += 2;
                    }
                    
                    if (topicLower.includes('สังคม') || topicLower.includes('เครือข่าย') || topicLower.includes('ความสัมพันธ์')) {
                        if (theory.domain === 'social_capital') score += 2;
                    }

                    if (topicLower.includes('บริหาร') || topicLower.includes('องค์กร') || topicLower.includes('จัดการ')) {
                        if (theory.domain === 'management') score += 2;
                    }

                    if (score > 0) {
                        relevantTheories.push({ ...theory, score });
                    }
                });

                // ถ้าไม่มีทฤษฎีที่ตรงกัน ให้แสดงทฤษฎียอดนิยม
                if (relevantTheories.length === 0) {
                    return [
                        researchDatabase.theories.tam,
                        researchDatabase.theories.tpb,
                        researchDatabase.theories.social_capital
                    ].map(theory => ({ ...theory, score: 1 }));
                }

                // เรียงลำดับตาม score และ level ที่เหมาะสม
                return relevantTheories
                    .filter(theory => theory.level <= selectedLevel + 1)
                    .sort((a, b) => b.score - a.score)
                    .slice(0, 3);
            };

            const relevantTheories = findRelevantTheories(researchTopic);

            const getLevelBadgeColor = (level) => {
                const colors = {
                    1: 'bg-green-100 text-green-800',
                    2: 'bg-blue-100 text-blue-800',
                    3: 'bg-purple-100 text-purple-800'
                };
                return colors[level] || 'bg-gray-100 text-gray-800';
            };

            const getLevelName = (level) => {
                const names = {
                    1: 'พื้นฐาน',
                    2: 'กลาง',
                    3: 'สูง'
                };
                return names[level] || 'ไม่ระบุ';
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
                    <div className="container mx-auto px-4 py-8">
                        <div className="max-w-6xl mx-auto">
                            <div className="text-center mb-8">
                                <h1 className="text-3xl font-bold text-amber-900 mb-4">
                                    เลือกทฤษฎีที่เหมาะสมกับการวิจัย
                                </h1>
                                <div className="bg-white rounded-lg p-4 shadow-sm">
                                    <p className="text-gray-600 mb-2">โจทย์วิจัย: <span className="font-medium text-gray-800">{researchTopic}</span></p>
                                    <p className="text-gray-600">ระดับที่เลือก: <span className="font-medium text-gray-800">ระดับ {selectedLevel}</span></p>
                                </div>
                            </div>

                            <div className="grid gap-6">
                                {relevantTheories.map((theory) => (
                                    <div
                                        key={theory.id}
                                        className={`bg-white rounded-lg border-2 p-6 transition-all duration-200 hover:shadow-lg ${
                                            selectedTheoryId === theory.id 
                                                ? 'border-amber-500 ring-2 ring-amber-200' 
                                                : 'border-gray-200 hover:border-amber-300'
                                        }`}
                                    >
                                        <div className="flex justify-between items-start mb-4">
                                            <div>
                                                <h3 className="text-xl font-bold text-gray-800 mb-2">{theory.name}</h3>
                                                <p className="text-gray-600">ผู้พัฒนา: {theory.author}</p>
                                            </div>
                                            <div className="flex gap-2">
                                                <span className={`px-3 py-1 rounded-full text-sm font-medium ${getLevelBadgeColor(theory.level)}`}>
                                                    ระดับ {getLevelName(theory.level)}
                                                </span>
                                            </div>
                                        </div>

                                        <p className="text-gray-700 mb-4">{theory.description}</p>

                                        <div className="grid md:grid-cols-2 gap-4 mb-6">
                                            <div>
                                                <h4 className="font-semibold text-gray-800 mb-2">ปัจจัยหลัก:</h4>
                                                <ul className="text-sm text-gray-600 space-y-1">
                                                    {theory.factors.map((factor, index) => (
                                                        <li key={index} className="flex items-center">
                                                            <span className="w-2 h-2 bg-amber-400 rounded-full mr-2"></span>
                                                            {factor}
                                                        </li>
                                                    ))}
                                                </ul>
                                            </div>
                                            <div>
                                                <h4 className="font-semibold text-gray-800 mb-2">วิธีการวิเคราะห์:</h4>
                                                <ul className="text-sm text-gray-600 space-y-1">
                                                    {theory.statistics.map((stat, index) => (
                                                        <li key={index} className="flex items-center">
                                                            <span className="w-2 h-2 bg-blue-400 rounded-full mr-2"></span>
                                                            {stat}
                                                        </li>
                                                    ))}
                                                </ul>
                                            </div>
                                        </div>

                                        <div className="bg-gray-50 rounded-lg p-4 mb-4">
                                            <h4 className="font-semibold text-gray-800 mb-2">ความสัมพันธ์ระหว่างตัวแปร:</h4>
                                            <p className="text-sm text-gray-700 font-mono bg-white p-2 rounded border">
                                                {theory.relationships}
                                            </p>
                                        </div>

                                        <div className="bg-amber-50 rounded-lg p-4 mb-4">
                                            <h4 className="font-semibold text-amber-800 mb-2">การคาดการณ์:</h4>
                                            <p className="text-sm text-amber-700">{theory.prediction}</p>
                                        </div>

                                        <div className="flex gap-3">
                                            <button
                                                onClick={() => setSelectedTheoryId(theory.id)}
                                                className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${
                                                    selectedTheoryId === theory.id
                                                        ? 'bg-amber-600 text-white'
                                                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                                }`}
                                            >
                                                {selectedTheoryId === theory.id ? '✓ เลือกแล้ว' : 'เลือกทฤษฎีนี้'}
                                            </button>
                                            
                                            {selectedTheoryId === theory.id && (
                                                <button
                                                    onClick={() => onSelectTheory(theory)}
                                                    className="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors"
                                                >
                                                    ดำเนินการต่อ →
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Simple Results Page
        const ResultsPage = ({ researchTopic, selectedLevel, selectedTheory }) => {
            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
                    <div className="container mx-auto px-4 py-8">
                        <div className="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
                            <h1 className="text-3xl font-bold text-amber-900 mb-6">
                               แผนการวิจัยของคุณ
                           </h1>
                           
                           <div className="grid gap-6 mb-8">
                               <div className="bg-blue-50 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-blue-900 mb-3">📚 ข้อมูลการวิจัย</h2>
                                   <div className="space-y-2">
                                       <p><span className="font-medium">โจทย์วิจัย:</span> {researchTopic}</p>
                                       <p><span className="font-medium">ระดับความซับซ้อน:</span> ระดับ {selectedLevel}</p>
                                       <p><span className="font-medium">ทฤษฎีที่เลือก:</span> {selectedTheory.name}</p>
                                       <p><span className="font-medium">ผู้พัฒนาทฤษฎี:</span> {selectedTheory.author}</p>
                                   </div>
                               </div>

                               <div className="bg-green-50 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-green-900 mb-3">🎯 ปัจจัยหลักของทฤษฎี</h2>
                                   <ul className="space-y-2">
                                       {selectedTheory.factors.map((factor, index) => (
                                           <li key={index} className="flex items-center">
                                               <span className="w-3 h-3 bg-green-500 rounded-full mr-3"></span>
                                               {factor}
                                           </li>
                                       ))}
                                   </ul>
                               </div>

                               <div className="bg-amber-50 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-amber-900 mb-3">🔗 ความสัมพันธ์ระหว่างตัวแปร</h2>
                                   <div className="bg-white p-4 rounded border font-mono text-sm">
                                       {selectedTheory.relationships}
                                   </div>
                               </div>

                               <div className="bg-purple-50 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-purple-900 mb-3">📊 วิธีการวิเคราะห์ที่แนะนำ</h2>
                                   <div className="grid grid-cols-2 gap-3">
                                       {selectedTheory.statistics.map((stat, index) => (
                                           <div key={index} className="bg-white p-3 rounded border">
                                               <span className="text-sm">{stat}</span>
                                           </div>
                                       ))}
                                   </div>
                               </div>

                               <div className="bg-rose-50 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-rose-900 mb-3">💡 การคาดการณ์ผลลัพธ์</h2>
                                   <p className="text-rose-800">{selectedTheory.prediction}</p>
                               </div>

                               <div className="bg-gray-50 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-gray-900 mb-3">📋 ขั้นตอนการดำเนินงานแนะนำ</h2>
                                   <div className="space-y-3">
                                       <div className="flex items-start gap-3">
                                           <span className="bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold">1</span>
                                           <div>
                                               <h4 className="font-medium">การเตรียมข้อมูล</h4>
                                               <p className="text-sm text-gray-600">ทำความสะอาดข้อมูล ตรวจสอบค่าสูญหายและค่าผิดปกติ</p>
                                           </div>
                                       </div>
                                       <div className="flex items-start gap-3">
                                           <span className="bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold">2</span>
                                           <div>
                                               <h4 className="font-medium">การวิเคราะห์เชิงพรรณนา</h4>
                                               <p className="text-sm text-gray-600">วิเคราะห์ลักษณะของข้อมูลและกลุ่มตัวอย่าง</p>
                                           </div>
                                       </div>
                                       <div className="flex items-start gap-3">
                                           <span className="bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold">3</span>
                                           <div>
                                               <h4 className="font-medium">การทดสอบความเชื่อมั่น</h4>
                                               <p className="text-sm text-gray-600">ตรวจสอบ Cronbach's Alpha ของแต่ละตัวแปร</p>
                                           </div>
                                       </div>
                                       {selectedLevel >= 2 && (
                                           <div className="flex items-start gap-3">
                                               <span className="bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold">4</span>
                                               <div>
                                                   <h4 className="font-medium">การวิเคราะห์องค์ประกอบเชิงสำรวจ (EFA)</h4>
                                                   <p className="text-sm text-gray-600">ตรวจสอบโครงสร้างของตัวแปรแฝง</p>
                                               </div>
                                           </div>
                                       )}
                                       {selectedLevel >= 3 && (
                                           <>
                                               <div className="flex items-start gap-3">
                                                   <span className="bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold">5</span>
                                                   <div>
                                                       <h4 className="font-medium">การวิเคราะห์องค์ประกอบเชิงยืนยัน (CFA)</h4>
                                                       <p className="text-sm text-gray-600">ยืนยันโครงสร้างการวัด</p>
                                                   </div>
                                               </div>
                                               <div className="flex items-start gap-3">
                                                   <span className="bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold">6</span>
                                                   <div>
                                                       <h4 className="font-medium">การวิเคราะห์โมเดลสมการโครงสร้าง (SEM)</h4>
                                                       <p className="text-sm text-gray-600">ทดสอบความสัมพันธ์เชิงสาเหตุ</p>
                                                   </div>
                                               </div>
                                           </>
                                       )}
                                   </div>
                               </div>

                               <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-yellow-900 mb-3">⚠️ ข้อควรระวัง</h2>
                                   <ul className="space-y-2 text-yellow-800 text-sm">
                                       <li>• ตรวจสอบขนาดกลุ่มตัวอย่างให้เพียงพอต่อการวิเคราะห์</li>
                                       <li>• ศึกษาข้อจำกัดและสมมติฐานของทฤษฎี</li>
                                       <li>• ปรับปรุงแบบสอบถามให้เหมาะสมกับบริบทของคุณ</li>
                                       <li>• ค้นหางานวิจัยล่าสุดที่ใช้ทฤษฎีนี้เพื่อเปรียบเทียบ</li>
                                   </ul>
                               </div>

                               <div className="bg-green-100 border border-green-300 rounded-lg p-6">
                                   <h2 className="text-xl font-semibold text-green-900 mb-3">📖 แนะนำการอ่านเพิ่มเติม</h2>
                                   <ul className="space-y-2 text-green-800 text-sm">
                                       <li>• ค้นหางานวิจัยต้นฉบับของ {selectedTheory.author}</li>
                                       <li>• ศึกษา Meta-analysis ของทฤษฎีนี้</li>
                                       <li>• ดูตัวอย่างการประยุกต์ใช้ในบริบทที่คล้ายกัน</li>
                                       <li>• อ่านคู่มือการใช้งาน SPSS หรือ AMOS สำหรับการวิเคราะห์</li>
                                   </ul>
                               </div>
                           </div>

                           <div className="flex gap-4 justify-center">
                               <button
                                   onClick={() => window.print()}
                                   className="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors"
                               >
                                   🖨️ พิมพ์แผนการวิจัย
                               </button>
                               <button
                                   onClick={() => window.location.reload()}
                                   className="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors"
                               >
                                   🔄 เริ่มใหม่
                               </button>
                           </div>
                       </div>
                   </div>
               </div>
           );
       };

       // Main App Component
       const ResearchMethodologyAdvisor = () => {
           const [currentPage, setCurrentPage] = useState('landing');
           const [researchTopic, setResearchTopic] = useState('');
           const [selectedLevel, setSelectedLevel] = useState(null);
           const [selectedTheory, setSelectedTheory] = useState(null);

           const handleAnalyze = (topic) => {
               if (topic.trim()) {
                   setResearchTopic(topic);
                   setCurrentPage('level');
               }
           };

           const handleSelectLevel = (level) => {
               setSelectedLevel(level);
               setCurrentPage('theory');
           };

           const handleSelectTheory = (theory) => {
               setSelectedTheory(theory);
               setCurrentPage('results');
           };

           return (
               <div className="min-h-screen">
                   {currentPage === 'landing' && (
                       <LandingPage onAnalyze={handleAnalyze} />
                   )}
                   
                   {currentPage === 'level' && (
                       <LevelSelection 
                           researchTopic={researchTopic}
                           onSelectLevel={handleSelectLevel}
                       />
                   )}
                   
                   {currentPage === 'theory' && (
                       <TheorySelection 
                           researchTopic={researchTopic}
                           selectedLevel={selectedLevel}
                           onSelectTheory={handleSelectTheory}
                       />
                   )}
                   
                   {currentPage === 'results' && selectedTheory && (
                       <ResultsPage 
                           researchTopic={researchTopic}
                           selectedLevel={selectedLevel}
                           selectedTheory={selectedTheory}
                       />
                   )}
               </div>
           );
       };

       // Render the app
       const root = ReactDOM.createRoot(document.getElementById('root'));
       root.render(<ResearchMethodologyAdvisor />);
   </script>
</body>
</html>
