<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏™‡∏∏‡∏Å‡∏£</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        /* ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
        @media (max-width: 768px) {
            .container {
                padding: 0;
            }

            .header {
                background: linear-gradient(135deg, #4CAF50, #2196F3);
                color: white;
                padding: 20px;
                text-align: center;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            .header h1 {
                font-size: 24px;
                margin-bottom: 5px;
            }

            .header p {
                opacity: 0.9;
            }

            .main-content {
                padding: 20px;
            }

            /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ */
            .stats-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin-bottom: 25px;
            }

            .stat-card {
                background: white;
                padding: 20px;
                border-radius: 15px;
                text-align: center;
                box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            }

            .stat-number {
                font-size: 28px;
                font-weight: bold;
                color: #4CAF50;
                margin-bottom: 5px;
            }

            .stat-label {
                font-size: 14px;
                color: #666;
            }

            /* ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• */
            .add-form {
                background: white;
                border-radius: 15px;
                padding: 25px;
                margin-bottom: 25px;
                box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            }

            .form-title {
                font-size: 20px;
                margin-bottom: 20px;
                color: #333;
                text-align: center;
            }

            .form-group {
                margin-bottom: 20px;
            }

            .form-label {
                display: block;
                margin-bottom: 8px;
                font-weight: 500;
                color: #555;
            }

            .form-input {
                width: 100%;
                padding: 15px;
                border: 2px solid #e0e0e0;
                border-radius: 10px;
                font-size: 16px;
                transition: border-color 0.3s;
            }

            .form-input:focus {
                outline: none;
                border-color: #4CAF50;
            }

            .form-select {
                width: 100%;
                padding: 15px;
                border: 2px solid #e0e0e0;
                border-radius: 10px;
                font-size: 16px;
                background: white;
            }

            /* ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà */
            .btn {
                width: 100%;
                padding: 15px;
                border: none;
                border-radius: 10px;
                font-size: 18px;
                font-weight: 600;
                cursor: pointer;
                margin-bottom: 10px;
                transition: transform 0.2s;
            }

            .btn:active {
                transform: scale(0.98);
            }

            .btn-primary {
                background: #4CAF50;
                color: white;
            }

            .btn-secondary {
                background: #2196F3;
                color: white;
            }

            .btn-danger {
                background: #f44336;
                color: white;
            }

            /* ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡∏Å‡∏£ */
            .pig-list {
                background: white;
                border-radius: 15px;
                padding: 25px;
                margin-bottom: 25px;
                box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            }

            .pig-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px 0;
                border-bottom: 1px solid #f0f0f0;
            }

            .pig-item:last-child {
                border-bottom: none;
            }

            .pig-info {
                flex: 1;
            }

            .pig-type {
                font-weight: 600;
                margin-bottom: 5px;
            }

            .pig-details {
                font-size: 14px;
                color: #666;
            }

            .pig-actions {
                display: flex;
                gap: 10px;
            }

            .btn-small {
                padding: 8px 15px;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                cursor: pointer;
            }

            .btn-edit {
                background: #FF9800;
                color: white;
            }

            .btn-delete {
                background: #f44336;
                color: white;
            }

            /* ‡πÄ‡∏°‡∏ô‡∏π‡∏•‡πà‡∏≤‡∏á */
            .bottom-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: white;
                display: flex;
                border-top: 1px solid #e0e0e0;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            }

            .nav-item {
                flex: 1;
                text-align: center;
                padding: 15px 10px;
                cursor: pointer;
                transition: background 0.3s;
            }

            .nav-item.active {
                background: #e8f5e8;
                color: #4CAF50;
            }

            .nav-icon {
                font-size: 24px;
                margin-bottom: 5px;
            }

            .nav-text {
                font-size: 12px;
            }

            /* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô */
            .message {
                padding: 15px;
                border-radius: 10px;
                margin-bottom: 20px;
                text-align: center;
            }

            .message-success {
                background: #d4edda;
                color: #155724;
                border: 1px solid #c3e6cb;
            }

            .message-error {
                background: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
            }

            .hidden {
                display: none;
            }

            /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏•‡πà‡∏≤‡∏á */
            .main-content {
                padding-bottom: 80px;
            }
        }

        /* ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà */
        @media (min-width: 769px) {
            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
            }

            .header {
                background: #0078d4;
                color: white;
                padding: 30px;
                text-align: center;
                border-radius: 10px;
                margin-bottom: 30px;
            }

            .main-content {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 30px;
            }

            .stats-grid {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
                margin-bottom: 30px;
                grid-column: 1 / -1;
            }

            .add-form {
                background: white;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            .pig-list {
                background: white;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            .bottom-nav {
                display: none;
            }

            .form-group {
                display: grid;
                grid-template-columns: 150px 1fr;
                gap: 15px;
                align-items: center;
                margin-bottom: 20px;
            }

            .form-label {
                margin-bottom: 0;
                text-align: right;
            }

            .btn {
                width: auto;
                padding: 12px 25px;
                display: inline-block;
                margin-right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
        <div class="header">
            <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏™‡∏∏‡∏Å‡∏£</h1>
            <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ</p>
        </div>

        <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
        <div id="message" class="message hidden"></div>

        <!-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏° -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="totalPigs">0</div>
                <div class="stat-label">‡∏™‡∏∏‡∏Å‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalSows">0</div>
                <div class="stat-label">‡πÅ‡∏°‡πà‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalPiglets">0</div>
                <div class="stat-label">‡∏•‡∏π‡∏Å‡∏™‡∏∏‡∏Å‡∏£</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalFinishers">0</div>
                <div class="stat-label">‡∏™‡∏∏‡∏Å‡∏£‡∏Ç‡∏∏‡∏ô</div>
            </div>
        </div>

        <div class="main-content">
            <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
            <div class="add-form">
                <h2 class="form-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£</h2>
                
                <div class="form-group">
                    <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏∏‡∏Å‡∏£:</label>
                    <select class="form-select" id="pigType">
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                        <option value="sow">‡πÅ‡∏°‡πà‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå</option>
                        <option value="piglet">‡∏•‡∏π‡∏Å‡∏™‡∏∏‡∏Å‡∏£</option>
                        <option value="finisher">‡∏™‡∏∏‡∏Å‡∏£‡∏Ç‡∏∏‡∏ô</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</label>
                    <input type="number" class="form-input" id="quantity" min="1" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
                </div>

                <div class="form-group">
                    <label class="form-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ü‡∏≤‡∏£‡πå‡∏°:</label>
                    <input type="date" class="form-input" id="entryDate">
                </div>

                <div class="form-group">
                    <label class="form-label">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (‡∏Å‡∏Å.):</label>
                    <input type="number" class="form-input" id="weight" step="0.1" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å">
                </div>

                <div class="form-group">
                    <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</label>
                    <input type="text" class="form-input" id="notes" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°">
                </div>

                <button class="btn btn-primary" onclick="addPig()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                <button class="btn btn-secondary" onclick="clearForm()">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
            </div>

            <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡∏Å‡∏£ -->
            <div class="pig-list">
                <h2 class="form-title">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡∏Å‡∏£‡πÉ‡∏ô‡∏ü‡∏≤‡∏£‡πå‡∏°</h2>
                <div id="pigListContainer">
                    <p style="text-align: center; color: #666; padding: 20px;">
                        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£<br>
                        ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
                    </p>
                </div>
                
                <div style="margin-top: 20px;">
                    <button class="btn btn-secondary" onclick="exportData()">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                    <button class="btn btn-danger" onclick="clearAllData()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                </div>
            </div>
        </div>

        <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏•‡πà‡∏≤‡∏á (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠) -->
        <div class="bottom-nav">
            <div class="nav-item active">
                <div class="nav-icon">üè†</div>
                <div class="nav-text">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon">üê∑</div>
                <div class="nav-text">‡∏™‡∏∏‡∏Å‡∏£</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon">üìä</div>
                <div class="nav-text">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</div>
            </div>
            <div class="nav-item">
                <div class="nav-icon">‚öôÔ∏è</div>
                <div class="nav-text">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</div>
            </div>
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£
        let pigs = [];
        
        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateStats();
            document.getElementById('entryDate').value = new Date().toISOString().split('T')[0];
        });

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£
        function addPig() {
            const pigType = document.getElementById('pigType').value;
            const quantity = document.getElementById('quantity').value;
            const entryDate = document.getElementById('entryDate').value;
            const weight = document.getElementById('weight').value;
            const notes = document.getElementById('notes').value;

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            if (!pigType || !quantity || !entryDate) {
                showMessage('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô', 'error');
                return;
            }

            if (quantity < 1) {
                showMessage('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0', 'error');
                return;
            }

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
            const newPig = {
                id: Date.now(),
                type: pigType,
                quantity: parseInt(quantity),
                entryDate: entryDate,
                weight: parseFloat(weight) || 0,
                notes: notes,
                addedDate: new Date().toLocaleString('th-TH')
            };

            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            pigs.push(newPig);
            
            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            saveData();
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
            updateStats();
            displayPigs();
            clearForm();
            
            showMessage('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!', 'success');
        }

        // ‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
        function clearForm() {
            document.getElementById('pigType').value = '';
            document.getElementById('quantity').value = '';
            document.getElementById('weight').value = '';
            document.getElementById('notes').value = '';
            document.getElementById('entryDate').value = new Date().toISOString().split('T')[0];
        }

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
        function updateStats() {
            const stats = {
                total: 0,
                sows: 0,
                piglets: 0,
                finishers: 0
            };

            pigs.forEach(pig => {
                stats.total += pig.quantity;
                switch(pig.type) {
                    case 'sow':
                        stats.sows += pig.quantity;
                        break;
                    case 'piglet':
                        stats.piglets += pig.quantity;
                        break;
                    case 'finisher':
                        stats.finishers += pig.quantity;
                        break;
                }
            });

            document.getElementById('totalPigs').textContent = stats.total;
            document.getElementById('totalSows').textContent = stats.sows;
            document.getElementById('totalPiglets').textContent = stats.piglets;
            document.getElementById('totalFinishers').textContent = stats.finishers;
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡∏Å‡∏£
        function displayPigs() {
            const container = document.getElementById('pigListContainer');
            
            if (pigs.length === 0) {
                container.innerHTML = `
                    <p style="text-align: center; color: #666; padding: 20px;">
                        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£<br>
                        ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
                    </p>
                `;
                return;
            }

            const typeNames = {
                'sow': '‡πÅ‡∏°‡πà‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå',
                'piglet': '‡∏•‡∏π‡∏Å‡∏™‡∏∏‡∏Å‡∏£', 
                'finisher': '‡∏™‡∏∏‡∏Å‡∏£‡∏Ç‡∏∏‡∏ô'
            };

            let html = '';
            pigs.forEach(pig => {
                html += `
                    <div class="pig-item">
                        <div class="pig-info">
                            <div class="pig-type">${typeNames[pig.type]} ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${pig.quantity} ‡∏ï‡∏±‡∏ß</div>
                            <div class="pig-details">
                                ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ü‡∏≤‡∏£‡πå‡∏°: ${new Date(pig.entryDate).toLocaleDateString('th-TH')}
                                ${pig.weight > 0 ? ` | ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å: ${pig.weight} ‡∏Å‡∏Å.` : ''}
                                ${pig.notes ? ` | ${pig.notes}` : ''}
                            </div>
                        </div>
                        <div class="pig-actions">
                            <button class="btn-small btn-edit" onclick="editPig(${pig.id})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                            <button class="btn-small btn-delete" onclick="deletePig(${pig.id})">‡∏•‡∏ö</button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£
        function deletePig(id) {
            if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                pigs = pigs.filter(pig => pig.id !== id);
                saveData();
                updateStats();
                displayPigs();
                showMessage('‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢', 'success');
            }
        }

        // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏∏‡∏Å‡∏£
        function editPig(id) {
            const pig = pigs.find(p => p.id === id);
            if (pig) {
                document.getElementById('pigType').value = pig.type;
                document.getElementById('quantity').value = pig.quantity;
                document.getElementById('entryDate').value = pig.entryDate;
                document.getElementById('weight').value = pig.weight;
                document.getElementById('notes').value = pig.notes;
                
                // ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤
                deletePig(id);
                
                showMessage('‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏° ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà', 'success');
            }
        }

        // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        function clearAllData() {
            if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ')) {
                pigs = [];
                saveData();
                updateStats();
                displayPigs();
                showMessage('‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢', 'success');
            }
        }

        // ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        function exportData() {
            if (pigs.length === 0) {
                showMessage('‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å', 'error');
                return;
            }

            const data = {
                exportDate: new Date().toLocaleString('th-TH'),
                totalPigs: pigs.reduce((sum, pig) => sum + pig.quantity, 0),
                pigs: pigs
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `farm-data-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showMessage('‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢', 'success');
        }

        // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        function saveData() {
            try {
                const data = JSON.stringify(pigs);
                if (typeof(Storage) !== "undefined") {
                    localStorage.setItem('farmPigs', data);
                }
            } catch (error) {
                console.error('Error saving data:', error);
            }
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        function loadData() {
            try {
                if (typeof(Storage) !== "undefined") {
                    const data = localStorage.getItem('farmPigs');
                    if (data) {
                        pigs = JSON.parse(data);
                        displayPigs();
                    }
                }
            } catch (error) {
                console.error('Error loading data:', error);
                pigs = [];
            }
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        function showMessage(text, type = 'success') {
            const messageEl = document.getElementById('message');
            messageEl.className = `message message-${type}`;
            messageEl.textContent = text;
            messageEl.classList.remove('hidden');
            
            setTimeout(() => {
                messageEl.classList.add('hidden');
            }, 3000);
        }

        // ‡πÄ‡∏°‡∏ô‡∏π‡∏•‡πà‡∏≤‡∏á
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
