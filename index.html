
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîÆ ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏•‡∏Ç‡∏´‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡πÇ‡∏´‡∏£‡∏≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 5px rgba(102, 126, 234, 0.3)); }
            to { filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.6)); }
        }

        .header p {
            font-size: 1.2rem;
            color: #666;
            font-weight: 400;
        }

        .main-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
        }

        .card-icon {
            font-size: 2rem;
            margin-right: 15px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2d3748;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #4a5568;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            font-family: 'Sarabun', sans-serif;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Sarabun', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result-area {
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border-radius: 15px;
            border-left: 5px solid #667eea;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lottery-numbers {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .lottery-ball {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #48bb78, #38a169);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            animation: spin 1s ease-in-out;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
        }

        @keyframes spin {
            from { transform: rotate(0deg) scale(0); }
            to { transform: rotate(360deg) scale(1); }
        }

        .fortune-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #2d3748;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .loading {
            display: none;
            text-align: center;
            color: #667eea;
            font-weight: 500;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin-loader 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin-loader {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .history {
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .history-item {
            padding: 15px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .lottery-numbers {
                gap: 8px;
            }
            
            .lottery-ball {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîÆ ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏•‡∏Ç‡∏´‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡πÇ‡∏´‡∏£‡∏≤</h1>
            <p>‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ AI ‡∏ú‡∏™‡∏≤‡∏ô‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡πÇ‡∏ö‡∏£‡∏≤‡∏ì ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        </div>

        <div class="main-grid">
            <!-- ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏•‡∏Ç‡∏´‡∏ß‡∏¢ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üé∞</div>
                    <h2 class="card-title">‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏•‡∏Ç‡∏´‡∏ß‡∏¢</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="fullName" class="form-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡πá‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label>
                    <input type="date" id="birthDate" class="form-input">
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏ß‡∏¢</label>
                    <select id="lotteryType" class="form-select">
                        <option value="government">‡∏´‡∏ß‡∏¢‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏• (3 ‡∏ï‡∏±‡∏ß)</option>
                        <option value="underground">‡∏´‡∏ß‡∏¢‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô (2 ‡∏ï‡∏±‡∏ß)</option>
                        <option value="lotto">‡∏•‡∏≠‡∏ï‡πÇ‡∏ï‡πâ (6 ‡∏ï‡∏±‡∏ß)</option>
                    </select>
                </div>

                <button class="btn" onclick="generateLottery()">
                    üîÆ ‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•
                </button>

                <div class="loading" id="lotteryLoading">
                    <div class="spinner"></div>
                    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•...
                </div>

                <div class="result-area" id="lotteryResult">
                    <p style="color: #666;">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</p>
                </div>

                <div class="stats-grid" id="lotteryStats" style="display: none;">
                    <div class="stat-item">
                        <div class="stat-number" id="luckPercentage">0%</div>
                        <div class="stat-label">‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="fortuneScore">0</div>
                        <div class="stat-label">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏°‡∏á‡∏Ñ‡∏•</div>
                    </div>
                </div>
            </div>

            <!-- ‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏´‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">‚≠ê</div>
                    <h2 class="card-title">‡πÇ‡∏´‡∏£‡∏≤‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡∏£‡∏≤‡∏®‡∏µ</label>
                    <select id="zodiacSign" class="form-select">
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏®‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</option>
                        <option value="aries">‡∏£‡∏≤‡∏®‡∏µ‡πÄ‡∏°‡∏©</option>
                        <option value="taurus">‡∏£‡∏≤‡∏®‡∏µ‡∏û‡∏§‡∏©‡∏†</option>
                        <option value="gemini">‡∏£‡∏≤‡∏®‡∏µ‡πÄ‡∏°‡∏ñ‡∏∏‡∏ô</option>
                        <option value="cancer">‡∏£‡∏≤‡∏®‡∏µ‡∏Å‡∏£‡∏Å‡∏é</option>
                        <option value="leo">‡∏£‡∏≤‡∏®‡∏µ‡∏™‡∏¥‡∏á‡∏´‡πå</option>
                        <option value="virgo">‡∏£‡∏≤‡∏®‡∏µ‡∏Å‡∏±‡∏ô‡∏¢‡πå</option>
                        <option value="libra">‡∏£‡∏≤‡∏®‡∏µ‡∏ï‡∏∏‡∏•‡∏¢‡πå</option>
                        <option value="scorpio">‡∏£‡∏≤‡∏®‡∏µ‡∏û‡∏¥‡∏à‡∏¥‡∏Å</option>
                        <option value="sagittarius">‡∏£‡∏≤‡∏®‡∏µ‡∏ò‡∏ô‡∏π</option>
                        <option value="capricorn">‡∏£‡∏≤‡∏®‡∏µ‡∏°‡∏Å‡∏£</option>
                        <option value="aquarius">‡∏£‡∏≤‡∏®‡∏µ‡∏Å‡∏∏‡∏°‡∏†‡πå</option>
                        <option value="pisces">‡∏£‡∏≤‡∏®‡∏µ‡∏°‡∏µ‡∏ô</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</label>
                    <select id="fortuneType" class="form-select">
                        <option value="daily">‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</option>
                        <option value="weekly">‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</option>
                        <option value="monthly">‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option>
                        <option value="love">‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å</option>
                        <option value="career">‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô</option>
                        <option value="finance">‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</option>
                    </select>
                </div>

                <button class="btn" onclick="generateFortune()">
                    ‚≠ê ‡∏î‡∏π‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤
                </button>

                <div class="loading" id="fortuneLoading">
                    <div class="spinner"></div>
                    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤...
                </div>

                <div class="result-area" id="fortuneResult">
                    <p style="color: #666;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏®‡∏µ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</p>
                </div>
            </div>

            <!-- ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üçÄ</div>
                    <h2 class="card-title">‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î</label>
                    <select id="luckySource" class="form-select">
                        <option value="temple">‡∏ß‡∏±‡∏î‡∏î‡∏±‡∏á</option>
                        <option value="dream">‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ù‡∏±‡∏ô</option>
                        <option value="nature">‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥</option>
                        <option value="calendar">‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏°‡∏á‡∏Ñ‡∏•</option>
                        <option value="combination">‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á</option>
                    </select>
                </div>

                <button class="btn" onclick="generateLuckyNumbers()">
                    üçÄ ‡∏Ç‡∏≠‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î
                </button>

                <div class="loading" id="luckyLoading">
                    <div class="spinner"></div>
                    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î...
                </div>

                <div class="result-area" id="luckyResult">
                    <p style="color: #666;">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</p>
                </div>
            </div>

            <!-- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">üè†</div>
                    <h2 class="card-title">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢</h2>
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡∏ó‡∏¥‡∏®‡∏ö‡πâ‡∏≤‡∏ô</label>
                    <select id="houseDirection" class="form-select">
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏¥‡∏®‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô</option>
                        <option value="north">‡∏ó‡∏¥‡∏®‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</option>
                        <option value="northeast">‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</option>
                        <option value="east">‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å</option>
                        <option value="southeast">‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ</option>
                        <option value="south">‡∏ó‡∏¥‡∏®‡πÉ‡∏ï‡πâ</option>
                        <option value="southwest">‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ</option>
                        <option value="west">‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å</option>
                        <option value="northwest">‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î (‡∏û.‡∏®.)</label>
                    <input type="number" id="birthYear" class="form-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2540" min="2480" max="2580">
                </div>

                <button class="btn" onclick="analyzeFengShui()">
                    üè† ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢
                </button>

                <div class="loading" id="fengshuiLoading">
                    <div class="spinner"></div>
                    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢...
                </div>

                <div class="result-area" id="fengshuiResult">
                    <p style="color: #666;">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢</p>
                </div>
            </div>
        </div>

        <!-- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå -->
        <div class="history">
            <h3 style="margin-bottom: 20px; color: #2d3748;">üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</h3>
            <div id="historyList">
                <p style="text-align: center; color: #666;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</p>
            </div>
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏´‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå
        const zodiacData = {
            aries: { name: '‡πÄ‡∏°‡∏©', element: '‡πÑfire', luckyNumbers: [1, 8, 17], color: '‡πÅ‡∏î‡∏á' },
            taurus: { name: '‡∏û‡∏§‡∏©‡∏†', element: '‡∏î‡∏¥‡∏ô', luckyNumbers: [2, 6, 24], color: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß' },
            gemini: { name: '‡πÄ‡∏°‡∏ñ‡∏∏‡∏ô', element: '‡∏•‡∏°', luckyNumbers: [5, 14, 23], color: '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á' },
            cancer: { name: '‡∏Å‡∏£‡∏Å‡∏é', element: '‡∏ô‡πâ‡∏≥', luckyNumbers: [2, 7, 11], color: '‡πÄ‡∏á‡∏¥‡∏ô' },
            leo: { name: '‡∏™‡∏¥‡∏á‡∏´‡πå', element: '‡πÑ‡∏ü', luckyNumbers: [1, 3, 10], color: '‡∏ó‡∏≠‡∏á' },
            virgo: { name: '‡∏Å‡∏±‡∏ô‡∏¢‡πå', element: '‡∏î‡∏¥‡∏ô', luckyNumbers: [6, 15, 27], color: '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô' },
            libra: { name: '‡∏ï‡∏∏‡∏•‡∏¢‡πå', element: '‡∏•‡∏°', luckyNumbers: [6, 15, 24], color: '‡∏ä‡∏°‡∏û‡∏π' },
            scorpio: { name: '‡∏û‡∏¥‡∏à‡∏¥‡∏Å', element: '‡∏ô‡πâ‡∏≥', luckyNumbers: [4, 13, 27], color: '‡πÅ‡∏î‡∏á‡πÄ‡∏Ç‡πâ‡∏°' },
            sagittarius: { name: '‡∏ò‡∏ô‡∏π', element: '‡πÑ‡∏ü', luckyNumbers: [3, 9, 21], color: '‡∏°‡πà‡∏ß‡∏á' },
            capricorn: { name: '‡∏°‡∏Å‡∏£', element: '‡∏î‡∏¥‡∏ô', luckyNumbers: [8, 10, 26], color: '‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•' },
            aquarius: { name: '‡∏Å‡∏∏‡∏°‡∏†‡πå', element: '‡∏•‡∏°', luckyNumbers: [4, 11, 22], color: '‡∏ü‡πâ‡∏≤' },
            pisces: { name: '‡∏°‡∏µ‡∏ô', element: '‡∏ô‡πâ‡∏≥', luckyNumbers: [7, 12, 29], color: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ó‡∏∞‡πÄ‡∏•' }
        };

        const fortuneMessages = {
            daily: [
                '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà ‡∏î‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô',
                '‡∏û‡∏•‡∏±‡∏á‡∏î‡∏≤‡∏ß‡∏û‡∏£‡∏∞‡∏°‡∏µ‡∏ú‡∏•‡∏î‡∏µ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡πà‡∏≤‡∏ô‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πà‡∏≤‡∏ß‡∏î‡∏µ‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô',
                '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î‡πÑ‡∏î‡πâ',
                '‡∏î‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏™‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏á ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏û‡∏ö‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à',
                '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡∏ó‡∏≥‡∏ó‡∏≤‡∏ô ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏¢‡∏¥‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô'
            ],
            weekly: [
                '‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏´‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ',
                '‡∏î‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏Ç‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
                '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏ö‡∏≤‡∏ô‡πÄ‡∏ö‡∏¥‡∏Å ‡∏Ñ‡∏ô‡πÇ‡∏™‡∏î‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏à‡∏≠‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à',
                '‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠',
                '‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏Ñ‡∏≤‡∏î‡∏Ñ‡∏¥‡∏î ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†'
            ],
            love: [
                '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ö‡πà‡∏á‡∏ö‡∏≤‡∏ô ‡∏Ñ‡∏ô‡∏°‡∏µ‡πÅ‡∏ü‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å',
                '‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å ‡∏Ñ‡∏ß‡∏£‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤',
                '‡πÇ‡∏™‡∏î‡πÜ ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏° ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏°‡∏≤‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì',
                '‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏ô‡πà‡∏ô‡πÅ‡∏ü‡πâ‡∏ô‡∏¢‡∏¥‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô'
            ]
        };

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏•‡∏Ç‡∏™‡∏∏‡πà‡∏°
        function generateRandomNumbers(count, max) {
            const numbers = [];
            while (numbers.length < count) {
                const num = Math.floor(Math.random() * max) + 1;
                if (!numbers.includes(num)) {
                    numbers.push(num);
                }
            }
            return numbers.sort((a, b) => a - b);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏•‡∏Ç‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î
        function calculatePersonalNumbers(name, birthDate) {
            let sum = 0;
            for (let char of name) {
                sum += char.charCodeAt(0);
            }
            
            if (birthDate) {
                const date = new Date(birthDate);
                sum += date.getDate() + date.getMonth() + 1 + date.getFullYear();
            }
            
            return sum;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏•‡∏Ç‡∏´‡∏ß‡∏¢
        function generateLottery() {
            const fullName = document.getElementById('fullName').value;
            const birthDate = document.getElementById('birthDate').value;
            const lotteryType = document.getElementById('lotteryType').value;
            
            if (!fullName.trim()) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•');
                return;
            }

            showLoading('lotteryLoading');
            
            setTimeout(() => {
                let numbers = [];
                let displayText = '';
                
                const personalSum = calculatePersonalNumbers(fullName, birthDate);
                
                switch (lotteryType) {
                    case 'government':
                        numbers = generateRandomNumbers(3, 999);
                        displayText = numbers.map(n => n.toString().padStart(3, '0')).join(' - ');
                        break;
                    case 'underground':
                        numbers = generateRandomNumbers(2, 99);
                        displayText = numbers.map(n => n.toString().padStart(2, '0')).join(' - ');
                        break;
                    case 'lotto':
                        numbers = generateRandomNumbers(6, 49);
                        break;
                }

                // ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏•‡∏Ç‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
                if (numbers.length > 0) {
                    const adjustment = personalSum % 10;
                    numbers[0] = ((numbers[0] + adjustment) % (lotteryType === 'lotto' ? 49 : (lotteryType === 'government' ? 999 : 99))) + 1;
                }

                hideLoading('lotteryLoading');
                displayLotteryResult(numbers, lotteryType, fullName);
                
                // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
                showLotteryStats();
                
                // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
                addToHistory(`‡∏´‡∏ß‡∏¢${lotteryType === 'government' ? '‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•' : lotteryType === 'underground' ? '‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô' : '‡∏•‡∏≠‡∏ï‡πÇ‡∏ï‡πâ'}`, displayText || numbers.join(', '));
            }, 2000);
        }

        function displayLotteryResult(numbers, type, name) {
            const resultDiv = document.getElementById('lotteryResult');
            
            if (type === 'lotto') {
                const ballsHtml = numbers.map((num, index) => 
                    `<div class="lottery-ball" style="animation-delay: ${index * 0.2}s">${num}</div>`
                ).join('');
                
                resultDiv.innerHTML = `
                    <div>
                        <h4 style="margin-bottom: 15px; color: #2d3748;">üé∞ ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì${name}</h4>
                        <div class="lottery-numbers">${ballsHtml}</div>
                        <p style="color: #666; margin-top: 15px;">‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞!</p>
                    </div>
                `;
            } else {
                const displayNumbers = type === 'government' ? 
                    numbers.map(n => n.toString().padStart(3, '0')).join(' - ') :
                    numbers.map(n => n.toString().padStart(2, '0')).join(' - ');
                
                resultDiv.innerHTML = `
                    <div>
                        <h4 style="margin-bottom: 15px; color: #2d3748;">üé∞ ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì${name}</h4>
                        <div style="font-size: 2rem; font-weight: 700; color: #667eea; text-align: center; margin: 20px 0;">
                            ${displayNumbers}
                        </div>
                        <p style="color: #666;">‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞!</p>
                    </div>
                `;
            }
        }

        function showLotteryStats() {
            const statsDiv = document.getElementById('lotteryStats');
            const luckPercentage = Math.floor(Math.random() * 30) + 70; // 70-99%
            const fortuneScore = Math.floor(Math.random() * 50) + 50; // 50-99
            
            document.getElementById('luckPercentage').textContent = luckPercentage + '%';
            document.getElementById('fortuneScore').textContent = fortuneScore;
            statsDiv.style.display = 'grid';
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏£‡∏≤‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå
        function generateFortune() {
            const zodiacSign = document.getElementById('zodiacSign').value;
            const fortuneType = document.getElementById('fortuneType').value;
            
            if (!zodiacSign) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏®‡∏µ');
                return;
            }

            showLoading('fortuneLoading');
            
            setTimeout(() => {
                const zodiac = zodiacData[zodiacSign];
                const messages = fortuneMessages[fortuneType] || fortuneMessages.daily;
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                
                const resultDiv = document.getElementById('fortuneResult');
                resultDiv.innerHTML = `
                    <div class="fortune-text">
                        <h4 style="margin-bottom: 15px; color: #2d3748;">‚≠ê ‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏®‡∏µ${zodiac.name}</h4>
                        <p style="margin-bottom: 15px;">${randomMessage}</p>
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px;">
                            <strong>üçÄ ‡πÄ‡∏•‡∏Ç‡∏ô‡∏≥‡πÇ‡∏ä‡∏Ñ:</strong> ${zodiac.luckyNumbers.join(', ')}<br>
                            <strong>üé® ‡∏™‡∏µ‡∏°‡∏á‡∏Ñ‡∏•:</strong> ${zodiac.color}<br>
                            <strong>üåü ‡∏ò‡∏≤‡∏ï‡∏∏‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏£‡∏≤‡∏®‡∏µ:</strong> ${zodiac.element}
                        </div>
                    </div>
                `;
                
                hideLoading('fortuneLoading');
                addToHistory(`‡πÇ‡∏´‡∏£‡∏≤‡∏£‡∏≤‡∏®‡∏µ${zodiac.name}`, `${fortuneType === 'daily' ? '‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô' : fortuneType === 'weekly' ? '‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå' : fortuneType === 'monthly' ? '‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô' : fortuneType}`);
            }, 1500);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î
        function generateLuckyNumbers() {
            const source = document.getElementById('luckySource').value;
            
            showLoading('luckyLoading');
            
            setTimeout(() => {
                const luckyNums = generateRandomNumbers(5, 99);
                const sourceNames = {
                    temple: '‡∏ß‡∏±‡∏î‡∏î‡∏±‡∏á',
                    dream: '‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ù‡∏±‡∏ô',
                    nature: '‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥',
                    calendar: '‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏°‡∏á‡∏Ñ‡∏•',
                    combination: '‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á'
                };
                
                const resultDiv = document.getElementById('luckyResult');
                resultDiv.innerHTML = `
                    <div>
                        <h4 style="margin-bottom: 15px; color: #2d3748;">üçÄ ‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î‡∏à‡∏≤‡∏Å${sourceNames[source]}</h4>
                        <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin: 15px 0;">
                            ${luckyNums.map((num, index) => 
                                `<div class="lottery-ball" style="background: linear-gradient(45deg, #f093fb, #f5576c); animation-delay: ${index * 0.3}s">
                                    ${num.toString().padStart(2, '0')}
                                </div>`
                            ).join('')}
                        </div>
                        <p style="color: #666; text-align: center;">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ß‡∏¢</p>
                    </div>
                `;
                
                hideLoading('luckyLoading');
                addToHistory(`‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πá‡∏î${sourceNames[source]}`, luckyNums.map(n => n.toString().padStart(2, '0')).join(', '));
            }, 1800);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢
        function analyzeFengShui() {
            const direction = document.getElementById('houseDirection').value;
            const birthYear = document.getElementById('birthYear').value;
            
            if (!direction || !birthYear) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô');
                return;
            }

            showLoading('fengshuiLoading');
            
            setTimeout(() => {
                const directions = {
                    north: { name: '‡πÄ‡∏´‡∏ô‡∏∑‡∏≠', element: '‡∏ô‡πâ‡∏≥', color: '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ß‡∏≤‡∏á‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏°‡πâ‡∏ô‡πâ‡∏≥' },
                    northeast: { name: '‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠', element: '‡∏î‡∏¥‡∏ô', color: '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î' },
                    east: { name: '‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å', element: '‡πÑ‡∏°‡πâ', color: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å ‡∏õ‡∏•‡∏π‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ' },
                    southeast: { name: '‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ', element: '‡πÑ‡∏°‡πâ', color: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡∏ï‡∏π‡πâ‡πÄ‡∏ã‡∏ü ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏à‡∏£‡∏¥‡∏ç' },
                    south: { name: '‡πÉ‡∏ï‡πâ', element: '‡πÑ‡∏ü', color: '‡πÅ‡∏î‡∏á', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏Å ‡πÑ‡∏ü‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á' },
                    southwest: { name: '‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ', element: '‡∏î‡∏¥‡∏ô', color: '‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á' },
                    west: { name: '‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å', element: '‡πÇ‡∏•‡∏´‡∏∞', color: '‡∏Ç‡∏≤‡∏ß', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ß‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏´‡∏∞' },
                    northwest: { name: '‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠', element: '‡πÇ‡∏•‡∏´‡∏∞', color: '‡πÄ‡∏á‡∏¥‡∏ô', advice: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß ‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à' }
                };
                
                const houseDirection = directions[direction];
                const yearElement = getYearElement(parseInt(birthYear));
                const compatibility = checkElementCompatibility(houseDirection.element, yearElement);
                
                const resultDiv = document.getElementById('fengshuiResult');
                resultDiv.innerHTML = `
                    <div class="fortune-text">
                        <h4 style="margin-bottom: 15px; color: #2d3748;">üè† ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢</h4>
                        <div style="text-align: left;">
                            <p><strong>üß≠ ‡∏ó‡∏¥‡∏®‡∏ö‡πâ‡∏≤‡∏ô:</strong> ${houseDirection.name}</p>
                            <p><strong>üåü ‡∏ò‡∏≤‡∏ï‡∏∏‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ó‡∏¥‡∏®:</strong> ${houseDirection.element}</p>
                            <p><strong>üé® ‡∏™‡∏µ‡∏°‡∏á‡∏Ñ‡∏•:</strong> ${houseDirection.color}</p>
                            <p><strong>üë§ ‡∏ò‡∏≤‡∏ï‡∏∏‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î:</strong> ${yearElement}</p>
                            <p><strong>‚öñÔ∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô:</strong> ${compatibility}</p>
                        </div>
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px; text-align: left;">
                            <strong>üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong><br>
                            ${houseDirection.advice}
                        </div>
                    </div>
                `;
                
                hideLoading('fengshuiLoading');
                addToHistory(`‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢‡∏ó‡∏¥‡∏®${houseDirection.name}`, `‡∏ò‡∏≤‡∏ï‡∏∏${houseDirection.element} - ${compatibility}`);
            }, 2200);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠
        function getYearElement(year) {
            const elements = ['‡πÇ‡∏•‡∏´‡∏∞', '‡∏ô‡πâ‡∏≥', '‡πÑ‡∏°‡πâ', '‡πÑ‡∏ü', '‡∏î‡∏¥‡∏ô'];
            return elements[(year - 2480) % 5];
        }

        function checkElementCompatibility(houseElement, yearElement) {
            const compatibility = {
                '‡πÑ‡∏ü': { good: ['‡πÑ‡∏°‡πâ'], bad: ['‡∏ô‡πâ‡∏≥'], neutral: ['‡πÑ‡∏ü', '‡∏î‡∏¥‡∏ô', '‡πÇ‡∏•‡∏´‡∏∞'] },
                '‡∏î‡∏¥‡∏ô': { good: ['‡πÑ‡∏ü'], bad: ['‡πÑ‡∏°‡πâ'], neutral: ['‡∏î‡∏¥‡∏ô', '‡πÇ‡∏•‡∏´‡∏∞', '‡∏ô‡πâ‡∏≥'] },
                '‡πÇ‡∏•‡∏´‡∏∞': { good: ['‡∏î‡∏¥‡∏ô'], bad: ['‡πÑ‡∏ü'], neutral: ['‡πÇ‡∏•‡∏´‡∏∞', '‡∏ô‡πâ‡∏≥', '‡πÑ‡∏°‡πâ'] },
                '‡∏ô‡πâ‡∏≥': { good: ['‡πÇ‡∏•‡∏´‡∏∞'], bad: ['‡∏î‡∏¥‡∏ô'], neutral: ['‡∏ô‡πâ‡∏≥', '‡πÑ‡∏°‡πâ', '‡πÑ‡∏ü'] },
                '‡πÑ‡∏°‡πâ': { good: ['‡∏ô‡πâ‡∏≥'], bad: ['‡πÇ‡∏•‡∏´‡∏∞'], neutral: ['‡πÑ‡∏°‡πâ', '‡πÑ‡∏ü', '‡∏î‡∏¥‡∏ô'] }
            };
            
            const relation = compatibility[houseElement];
            if (relation.good.includes(yearElement)) return '‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏°‡∏≤‡∏Å üü¢';
            if (relation.bad.includes(yearElement)) return '‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ô üî¥';
            return '‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á üü°';
        }

        function showLoading(elementId) {
            document.getElementById(elementId).classList.add('show');
        }

        function hideLoading(elementId) {
            document.getElementById(elementId).classList.remove('show');
        }

        // ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
        let history = [];

        function addToHistory(type, result) {
            const now = new Date();
            const timeStr = now.toLocaleString('th-TH', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            history.unshift({
                type,
                result,
                time: timeStr
            });
            
            // ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÅ‡∏Ñ‡πà 10 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
            if (history.length > 10) {
                history = history.slice(0, 10);
            }
            
            updateHistoryDisplay();
        }

        function updateHistoryDisplay() {
            const historyDiv = document.getElementById('historyList');
            
            if (history.length === 0) {
                historyDiv.innerHTML = '<p style="text-align: center; color: #666;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå</p>';
                return;
            }
            
            historyDiv.innerHTML = history.map(item => `
                <div class="history-item">
                    <div>
                        <strong>${item.type}</strong><br>
                        <span style="color: #666; font-size: 0.9rem;">${item.result}</span>
                    </div>
                    <div style="color: #999; font-size: 0.8rem;">
                        ${item.time}
                    </div>
                </div>
            `).join('');
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
        document.addEventListener('DOMContentLoaded', function() {
            // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
            const today = new Date();
            const maxDate = new Date(today.getFullYear() - 15, today.getMonth(), today.getDate());
            document.getElementById('birthDate').max = maxDate.toISOString().split('T')[0];
            
            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©
            addSparkleEffect();
        });

        // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏¢‡∏î‡∏≤‡∏ß
        function addSparkleEffect() {
            const sparkles = ['‚ú®', '‚≠ê', 'üåü', 'üí´'];
            
            setInterval(() => {
                const sparkle = document.createElement('div');
                sparkle.innerHTML = sparkles[Math.floor(Math.random() * sparkles.length)];
                sparkle.style.position = 'fixed';
                sparkle.style.left = Math.random() * window.innerWidth + 'px';
                sparkle.style.top = Math.random() * window.innerHeight + 'px';
                sparkle.style.fontSize = '1.5rem';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.animation = 'sparkle 3s ease-out forwards';
                sparkle.style.zIndex = '1000';
                
                document.body.appendChild(sparkle);
                
                setTimeout(() => {
                    document.body.removeChild(sparkle);
                }, 3000);
            }, 5000);
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏° CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏¢‡∏î‡∏≤‡∏ß
        const sparkleCSS = `
            @keyframes sparkle {
                0% {
                    opacity: 1;
                    transform: scale(0) rotate(0deg);
                }
                50% {
                    opacity: 1;
                    transform: scale(1) rotate(180deg);
                }
                100% {
                    opacity: 0;
                    transform: scale(0) rotate(360deg);
                }
            }
        `;
        
        const style = document.createElement('style');
        style.textContent = sparkleCSS;
        document.head.appendChild(style);
    </script>
</body>
</html>
