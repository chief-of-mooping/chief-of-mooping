<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì - Research Methodology Advisor</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .custom-brown { background-color: #8B4513; }
        .custom-cream { background-color: #F5F5DC; }
        .custom-brick { background-color: #CD853F; }
        .custom-gold { background-color: #DAA520; }
    </style>
</head>
<body>
    <div id="root"></div>
<script type="text/babel">
const researchDatabase = {
  theories: {
    'tam': {
      id: 'tam',
      name: 'Technology Acceptance Model (TAM)',
      author: 'Davis (1989)',
      domain: 'digital_marketing',
      factors: ['Perceived Usefulness (PU)', 'Perceived Ease of Use (PEOU)', 'Attitude Toward Using', 'Behavioral Intention'],
      relationships: 'PU + PEOU ‚Üí Attitude ‚Üí Behavioral Intention ‚Üí Actual Use',
      prediction: '‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏®‡∏ô‡∏Ñ‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ',
      keywords: ['technology', 'acceptance', 'digital', 'adoption', 'system', 'user'],
      level: 2,
      statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'Multiple Regression'],
      description: '‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡πÇ‡∏î‡∏¢‡πÄ‡∏ô‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô'
    },
    'tpb': {
      id: 'tpb',
      name: 'Theory of Planned Behavior (TPB)',
      author: 'Ajzen (1991)',
      domain: 'digital_marketing',
      factors: ['Attitude', 'Subjective Norm', 'Perceived Behavioral Control', 'Behavioral Intention'],
      relationships: 'Attitude + Subjective Norm + PBC ‚Üí Intention ‚Üí Behavior',
      prediction: '‡∏ó‡∏±‡∏®‡∏ô‡∏Ñ‡∏ï‡∏¥ ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°',
      keywords: ['behavior', 'intention', 'attitude', 'norm', 'control'],
      level: 2,
      statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'SEM'],
      description: '‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏±‡∏®‡∏ô‡∏Ñ‡∏ï‡∏¥ ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ê‡∏≤‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°'
    },
    'utaut': {
      id: 'utaut',
      name: 'Unified Theory of Acceptance and Use of Technology (UTAUT)',
      author: 'Venkatesh et al. (2003)',
      domain: 'digital_marketing',
      factors: ['Performance Expectancy', 'Effort Expectancy', 'Social Influence', 'Facilitating Conditions'],
      relationships: 'PE + EE + SI ‚Üí Intention, FC ‚Üí Use Behavior',
      prediction: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏° ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÅ‡∏•‡∏∞‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ',
      keywords: ['technology', 'acceptance', 'performance', 'effort', 'social'],
      level: 3,
      statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'CFA', 'SEM'],
      description: '‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ ‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß'
    },
    'social_capital': {
      id: 'social_capital',
      name: 'Social Capital Theory',
      author: 'Coleman (1988), Bourdieu (1986)',
      domain: 'social_capital',
      factors: ['Structural Capital', 'Relational Capital', 'Cognitive Capital', 'Social Networks'],
      relationships: 'Structural + Relational + Cognitive ‚Üí Social Capital ‚Üí Performance',
      prediction: '‡∏ó‡∏∏‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£',
      keywords: ['social', 'capital', 'network', 'relationship', 'trust'],
      level: 2,
      statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'Multiple Regression'],
      description: '‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå'
    },
    'rbv': {
      id: 'rbv',
      name: 'Resource-Based View (RBV)',
      author: 'Barney (1991)',
      domain: 'management',
      factors: ['Valuable Resources', 'Rare Resources', 'Inimitable Resources', 'Organized Resources'],
      relationships: 'VRIO Resources ‚Üí Competitive Advantage ‚Üí Superior Performance',
      prediction: '‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤ ‡∏´‡∏≤‡∏¢‡∏≤‡∏Å ‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏¢‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô',
      keywords: ['resource', 'competitive', 'advantage', 'valuable', 'rare'],
      level: 2,
      statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'Multiple Regression'],
      description: '‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô'
    },
    'dynamic_capabilities': {
      id: 'dynamic_capabilities',
      name: 'Dynamic Capabilities Theory',
      author: 'Teece et al. (1997)',
      domain: 'management',
      factors: ['Sensing Capabilities', 'Seizing Capabilities', 'Reconfiguring Capabilities', 'Learning Orientation'],
      relationships: 'Sensing + Seizing + Reconfiguring ‚Üí Dynamic Capabilities ‚Üí Adaptation',
      prediction: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ ‡∏¢‡∏∂‡∏î‡∏Ñ‡∏£‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏ß‡∏∞‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á',
      keywords: ['dynamic', 'capabilities', 'adaptation', 'change', 'learning'],
      level: 3,
      statistics: ['Descriptive Statistics', 'Reliability Analysis', 'EFA', 'CFA', 'SEM'],
      description: '‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏≠‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏ß‡∏∞‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á'
    }
    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£...
  },

  levels: {
    1: {
      name: '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô',
      steps: 3-5,
      description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô',
      methods: ['Descriptive Statistics', 'Reliability Analysis', 'T-test/ANOVA', 'Correlation']
    },
    2: {
      name: '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á', 
      steps: 6-8,
      description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ö‡πâ‡∏≤‡∏á',
      methods: ['Data Preparation', 'Descriptive', 'Reliability', 'EFA', 'Multiple Regression']
    },
    3: {
      name: '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á',
      steps: 10-15, 
      description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û',
      methods: ['Data Screening', 'CMB Testing', 'EFA', 'CFA', 'SEM', 'Mediation/Moderation']
    }
  }
};

const LandingPage = ({ onAnalyze }) => {
  const [researchTopic, setResearchTopic] = React.useState('');
  
  const exampleTopics = [
    '‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤',
    '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏∏‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô',
    '‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ',
    '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£'
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
      <div className="container mx-auto px-4 py-16">
        <div className="text-center mb-12">
          <h1 className="text-4xl font-bold text-amber-900 mb-4">
            ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì
          </h1>
          <p className="text-xl text-amber-700 mb-8">
            Research Methodology Advisor - ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£
          </p>
        </div>

        <div className="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
          <h2 className="text-2xl font-semibold text-gray-800 mb-6">
            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏ô‡πÉ‡∏à‡∏®‡∏∂‡∏Å‡∏©‡∏≤
          </h2>
          
          <textarea
            value={researchTopic}
            onChange={(e) => setResearchTopic(e.target.value)}
            placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤..."
            className="w-full h-32 p-4 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none resize-none"
          />

          <button
            onClick={() => onAnalyze(researchTopic)}
            disabled={!researchTopic.trim()}
            className="w-full mt-6 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors"
          >
            ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢
          </button>

          <div className="mt-8">
            <h3 className="text-lg font-medium text-gray-700 mb-4">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢:</h3>
            <div className="grid gap-3">
              {exampleTopics.map((topic, index) => (
                <button
                  key={index}
                  onClick={() => setResearchTopic(topic)}
                  className="text-left p-3 bg-amber-50 hover:bg-amber-100 rounded-lg border border-amber-200 transition-colors"
                >
                  <span className="text-amber-800">{index + 1}. </span>
                  <span className="text-gray-700">{topic}</span>
                </button>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

const LevelSelection = ({ researchTopic, onSelectLevel }) => {
  const levelCards = [
    {
      level: 1,
      title: '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô',
      steps: '3-5 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô',
      time: '2-3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
      description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏≥‡∏ß‡∏¥‡∏à‡∏±‡∏¢',
      methods: ['‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤', '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô', 'T-test/ANOVA', '‡∏™‡∏´‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå'],
      color: 'green',
      icon: 'üìä'
    },
    {
      level: 2,
      title: '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á',
      steps: '6-8 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô',
      time: '4-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
      description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ö‡πâ‡∏≤‡∏á',
      methods: ['‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', 'EFA', '‡∏Å‡∏≤‡∏£‡∏ñ‡∏î‡∏ñ‡∏≠‡∏¢‡∏û‡∏´‡∏∏‡∏Ñ‡∏π‡∏ì', '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏•‡∏∏‡πà‡∏°'],
      color: 'blue',
      icon: 'üìà'
    },
    {
      level: 3,
      title: '‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á',
      steps: '10-15 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô',
      time: '8-12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
      description: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û',
      methods: ['CMB Testing', 'CFA', 'SEM', '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Ñ‡∏±‡πà‡∏ô‡∏Å‡∏•‡∏≤‡∏á', 'Multi-group Analysis'],
      color: 'purple',
      icon: 'üéØ'
    }
  ];

  const getColorClasses = (color) => {
    const colors = {
      green: 'bg-green-50 border-green-200 hover:bg-green-100',
      blue: 'bg-blue-50 border-blue-200 hover:bg-blue-100',
      purple: 'bg-purple-50 border-purple-200 hover:bg-purple-100'
    };
    return colors[color];
  };

  const getButtonColor = (color) => {
    const colors = {
      green: 'bg-green-600 hover:bg-green-700',
      blue: 'bg-blue-600 hover:bg-blue-700',
      purple: 'bg-purple-600 hover:bg-purple-700'
    };
    return colors[color];
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
      <div className="container mx-auto px-4 py-8">
        <div className="max-w-6xl mx-auto">
          <div className="text-center mb-8">
            <h1 className="text-3xl font-bold text-amber-900 mb-4">
              ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢
            </h1>
            <div className="bg-white rounded-lg p-4 shadow-sm">
              <p className="text-gray-600 mb-2">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:</p>
              <p className="text-gray-800 font-medium">{researchTopic}</p>
            </div>
          </div>

          <div className="grid md:grid-cols-3 gap-6">
            {levelCards.map((card) => (
              <div
                key={card.level}
                className={`${getColorClasses(card.color)} border-2 rounded-lg p-6 transition-all duration-200 hover:shadow-lg`}
              >
                <div className="text-center mb-4">
                  <div className="text-4xl mb-2">{card.icon}</div>
                  <h3 className="text-2xl font-bold text-gray-800">{card.title}</h3>
                </div>

                <div className="space-y-3 mb-6">
                  <div className="flex justify-between items-center">
                    <span className="text-gray-600">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:</span>
                    <span className="font-semibold text-gray-800">{card.steps}</span>
                  </div>
                  <div className="flex justify-between items-center">
                    <span className="text-gray-600">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:</span>
                    <span className="font-semibold text-gray-800">{card.time}</span>
                  </div>
                </div>

                <p className="text-gray-700 mb-4 text-sm">
                  {card.description}
                </p>

                <div className="mb-6">
                  <h4 className="font-semibold text-gray-800 mb-2">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</h4>
                  <ul className="text-sm text-gray-600 space-y-1">
                    {card.methods.map((method, index) => (
                      <li key={index} className="flex items-center">
                        <span className="w-2 h-2 bg-gray-400 rounded-full mr-2"></span>
                        {method}
                      </li>
                    ))}
                  </ul>
                </div>

                <button
                  onClick={() => onSelectLevel(card.level)}
                  className={`w-full ${getButtonColor(card.color)} text-white font-semibold py-3 px-4 rounded-lg transition-colors`}
                >
                  ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ
                </button>
              </div>
            ))}
          </div>

          <div className="mt-8 bg-white rounded-lg p-6 shadow-sm">
            <h3 className="text-lg font-semibold text-gray-800 mb-3">üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö</h3>
            <div className="grid md:grid-cols-3 gap-4 text-sm">
              <div>
                <h4 className="font-medium text-green-700 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ‡∏´‡∏≤‡∏Å:</h4>
                <ul className="text-gray-600 space-y-1">
                  <li>‚Ä¢ ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å</li>
                  <li>‚Ä¢ ‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≥‡∏Å‡∏±‡∏î</li>
                  <li>‚Ä¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</li>
                </ul>
              </div>
              <div>
                <h4 className="font-medium text-blue-700 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á ‡∏´‡∏≤‡∏Å:</h4>
                <ul className="text-gray-600 space-y-1">
                  <li>‚Ä¢ ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ö‡πâ‡∏≤‡∏á</li>
                  <li>‚Ä¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å</li>
                  <li>‚Ä¢ ‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö ‡∏õ.‡πÇ‡∏ó</li>
                </ul>
              </div>
              <div>
                <h4 className="font-medium text-purple-700 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á ‡∏´‡∏≤‡∏Å:</h4>
                <ul className="text-gray-600 space-y-1">
                  <li>‚Ä¢ ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏°‡∏≤‡∏Å</li>
                  <li>‚Ä¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á</li>
                  <li>‚Ä¢ ‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö ‡∏õ.‡πÄ‡∏≠‡∏Å</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

const TheorySelection = ({ researchTopic, selectedLevel, onSelectTheory }) => {
  const [selectedTheoryId, setSelectedTheoryId] = React.useState(null);

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
  const findRelevantTheories = (topic) => {
    const topicLower = topic.toLowerCase();
    const relevantTheories = [];

    Object.values(researchDatabase.theories).forEach(theory => {
      let score = 0;
      
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö keywords
      theory.keywords.forEach(keyword => {
        if (topicLower.includes(keyword)) {
          score += 2;
        }
      });

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏§‡∏©‡∏é‡∏µ
      if (topicLower.includes(theory.name.toLowerCase())) {
        score += 3;
      }

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö domain
      if (topicLower.includes('‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ') || topicLower.includes('‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•') || topicLower.includes('‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå')) {
        if (theory.domain === 'digital_marketing') score += 2;
      }
      
      if (topicLower.includes('‡∏™‡∏±‡∏á‡∏Ñ‡∏°') || topicLower.includes('‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢') || topicLower.includes('‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå')) {
        if (theory.domain === 'social_capital') score += 2;
      }

      if (topicLower.includes('‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£') || topicLower.includes('‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£') || topicLower.includes('‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£')) {
        if (theory.domain === 'management') score += 2;
      }

      if (score > 0) {
        relevantTheories.push({ ...theory, score });
      }
    });

    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏° score ‡πÅ‡∏•‡∏∞ level ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
    return relevantTheories
      .filter(theory => theory.level <= selectedLevel + 1) // ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
      .sort((a, b) => b.score - a.score)
      .slice(0, 3); // ‡πÄ‡∏≠‡∏≤‡πÅ‡∏Ñ‡πà 3 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å
  };

  const relevantTheories = findRelevantTheories(researchTopic);

  const getLevelBadgeColor = (level) => {
    const colors = {
      1: 'bg-green-100 text-green-800',
      2: 'bg-blue-100 text-blue-800',
      3: 'bg-purple-100 text-purple-800'
    };
    return colors[level] || 'bg-gray-100 text-gray-800';
  };

  const getLevelName = (level) => {
    const names = {
      1: '‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô',
      2: '‡∏Å‡∏•‡∏≤‡∏á', 
      3: '‡∏™‡∏π‡∏á'
    };
    return names[level] || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏';
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
      <div className="container mx-auto px-4 py-8">
        <div className="max-w-6xl mx-auto">
          <div className="text-center mb-8">
            <h1 className="text-3xl font-bold text-amber-900 mb-4">
              ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢
            </h1>
            <div className="bg-white rounded-lg p-4 shadow-sm">
              <p className="text-gray-600 mb-2">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢: <span className="font-medium text-gray-800">{researchTopic}</span></p>
              <p className="text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: <span className="font-medium text-gray-800">‡∏£‡∏∞‡∏î‡∏±‡∏ö {selectedLevel}</span></p>
            </div>
          </div>

          {relevantTheories.length > 0 ? (
            <div className="grid gap-6">
              {relevantTheories.map((theory) => (
                <div
                  key={theory.id}
                  className={`bg-white rounded-lg border-2 p-6 transition-all duration-200 hover:shadow-lg ${
                    selectedTheoryId === theory.id 
                      ? 'border-amber-500 ring-2 ring-amber-200' 
                      : 'border-gray-200 hover:border-amber-300'
                  }`}
                >
                  <div className="flex justify-between items-start mb-4">
                    <div>
                      <h3 className="text-xl font-bold text-gray-800 mb-2">{theory.name}</h3>
                      <p className="text-gray-600">‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤: {theory.author}</p>
                    </div>
                    <div className="flex gap-2">
                      <span className={`px-3 py-1 rounded-full text-sm font-medium ${getLevelBadgeColor(theory.level)}`}>
                        ‡∏£‡∏∞‡∏î‡∏±‡∏ö {getLevelName(theory.level)}
                      </span>
                    </div>
                  </div>

                  <p className="text-gray-700 mb-4">{theory.description}</p>

                  <div className="grid md:grid-cols-2 gap-4 mb-6">
                    <div>
                      <h4 className="font-semibold text-gray-800 mb-2">‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å:</h4>
                      <ul className="text-sm text-gray-600 space-y-1">
                        {theory.factors.map((factor, index) => (
                          <li key={index} className="flex items-center">
                            <span className="w-2 h-2 bg-amber-400 rounded-full mr-2"></span>
                            {factor}
                          </li>
                        ))}
                      </ul>
                    </div>
                    <div>
                      <h4 className="font-semibold text-gray-800 mb-2">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</h4>
                      <ul className="text-sm text-gray-600 space-y-1">
                        {theory.statistics.map((stat, index) => (
                          <li key={index} className="flex items-center">
                            <span className="w-2 h-2 bg-blue-400 rounded-full mr-2"></span>
                            {stat}
                          </li>
                        ))}
                      </ul>
                    </div>
                  </div>

                  <div className="bg-gray-50 rounded-lg p-4 mb-4">
                    <h4 className="font-semibold text-gray-800 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£:</h4>
                    <p className="text-sm text-gray-700 font-mono bg-white p-2 rounded border">
                      {theory.relationships}
                    </p>
                  </div>

                  <div className="bg-amber-50 rounded-lg p-4 mb-4">
                    <h4 className="font-semibold text-amber-800 mb-2">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå:</h4>
                    <p className="text-sm text-amber-700">{theory.prediction}</p>
                  </div>

                  <div className="flex gap-3">
                    <button
                      onClick={() => setSelectedTheoryId(theory.id)}
                      className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${
                        selectedTheoryId === theory.id
                          ? 'bg-amber-600 text-white'
                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                      }`}
                    >
                      {selectedTheoryId === theory.id ? '‚úì ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß' : '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ô‡∏µ‡πâ'}
                    </button>
                    
                    {selectedTheoryId === theory.id && (
                      <button
                        onClick={() => onSelectTheory(theory)}
                        className="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors"
                      >
                        ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí
                      </button>
                    )}
                  </div>
                </div>
              ))}
            </div>
          ) : (
            <div className="bg-white rounded-lg p-8 text-center">
              <div className="text-6xl mb-4">ü§î</div>
              <h3 className="text-xl font-semibold text-gray-800 mb-2">
                ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
              </h3>
              <p className="text-gray-600 mb-6">
                ‡∏•‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ
              </p>
              <button
                onClick={() => window.location.reload()}
                className="bg-amber-600 hover:bg-amber-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors"
              >
                ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏à‡∏ó‡∏¢‡πå
              </button>
            </div>
          )}

          <div className="mt-8 bg-white rounded-lg p-6 shadow-sm">
            <h3 className="text-lg font-semibold text-gray-800 mb-3">üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏§‡∏©‡∏é‡∏µ</h3>
            <div className="grid md:grid-cols-2 gap-4 text-sm">
              <div>
                <h4 className="font-medium text-blue-700 mb-2">‡∏Ñ‡∏ß‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤:</h4>
                <ul className="text-gray-600 space-y-1">
                  <li>‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢</li>
                  <li>‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå</li>
                  <li>‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</li>
                </ul>
              </div>
              <div>
                <h4 className="font-medium text-green-700 mb-2">‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:</h4>
                <ul className="text-gray-600 space-y-1">
                  <li>‚Ä¢ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏°‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</li>
                  <li>‚Ä¢ ‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î</li>
                  <li>‚Ä¢ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

const ResultsPage = ({ researchTopic, selectedLevel, selectedTheory, onExportPDF }) => {
  const [activeTab, setActiveTab] = React.useState('theory');

  const tabs = [
    { id: 'theory', name: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏§‡∏©‡∏é‡∏µ', icon: 'üìö' },
    { id: 'research', name: '‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢', icon: 'üìã' },
    { id: 'statistics', name: '‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥', icon: 'üìä' },
    { id: 'spss', name: '‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ SPSS', icon: 'üíª' }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100">
      <div className="container mx-auto px-4 py-8">
        <div className="max-w-7xl mx-auto">
          {/* Header */}
          <div className="bg-white rounded-lg p-6 shadow-sm mb-6">
            <h1 className="text-3xl font-bold text-amber-900 mb-4">
              ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
            </h1>
            <div className="grid md:grid-cols-3 gap-4 text-sm">
              <div>
                <span className="text-gray-600">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ß‡∏¥‡∏à‡∏±‡∏¢:</span>
                <p className="font-medium text-gray-800">{researchTopic}</p>
              </div>
              <div>
                <span className="text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô:</span>
                <p className="font-medium text-gray-800">‡∏£‡∏∞‡∏î‡∏±‡∏ö {selectedLevel}</p>
              </div>
              <div>
                <span className="text-gray-600">‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</span>
                <p className="font-medium text-gray-800">{selectedTheory.name}</p>
              </div>
            </div>
            <div className="mt-4 flex gap-3">
              <button
                onClick={onExportPDF}
                className="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center gap-2"
              >
                üìÑ Export PDF
              </button>
              <button
                onClick={() => window.location.reload()}
                className="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors"
              >
                ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
              </button>
            </div>
          </div>

          {/* Tab Navigation */}
          <div className="bg-white rounded-lg shadow-sm mb-6">
            <div className="flex border-b border-gray-200">
              {tabs.map((tab) => (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`flex-1 py-4 px-6 text-center font-medium transition-colors ${
                    activeTab === tab.id
                      ? 'bg-amber-500 text-white border-b-2 border-amber-600'
                      : 'text-gray-600 hover:text-gray-800 hover:bg-gray-50'
                  }`}
                >
                  <div className="flex items-center justify-center gap-2">
                    <span className="text-lg">{tab.icon}</span>
                    <span>{tab.name}</span>
                  </div>
                </button>
              ))}
            </div>
          </div>

          {/* Tab Content */}
          <div id="export-content" className="bg-white rounded-lg shadow-sm">
            {activeTab === 'theory' && <TheoryTab theory={selectedTheory} />}
            {activeTab === 'research' && <ResearchPlanTab theory={selectedTheory} level={selectedLevel} />}
            {activeTab === 'statistics' && <StatisticsTab theory={selectedTheory} level={selectedLevel} />}
            {activeTab === 'spss' && <SPSSGuideTab theory={selectedTheory} level={selectedLevel} />}
          </div>
        </div>
      </div>
    </div>
  );
};

const TheoryTab = ({ theory }) => {
  return (
    <div className="p-8">
      <div className="mb-8">
        <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-3">
          üìö ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏§‡∏©‡∏é‡∏µ: {theory.name}
        </h2>
      </div>

      <div className="grid lg:grid-cols-2 gap-8">
        {/* ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô */}
        <div className="space-y-6">
          <div className="bg-blue-50 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-blue-900 mb-3">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h3>
            <div className="space-y-3">
              <div>
                <span className="font-medium text-blue-800">‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏§‡∏©‡∏é‡∏µ:</span>
                <p className="text-blue-700">{theory.author}</p>
              </div>
              <div>
                <span className="font-medium text-blue-800">‡∏™‡∏≤‡∏Ç‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</span>
                <p className="text-blue-700 capitalize">{theory.domain.replace('_', ' ')}</p>
              </div>
              <div>
                <span className="font-medium text-blue-800">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô:</span>
                <p className="text-blue-700">‡∏£‡∏∞‡∏î‡∏±‡∏ö {theory.level}</p>
              </div>
            </div>
          </div>

          <div className="bg-green-50 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-green-900 mb-3">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Ç‡∏≠‡∏á‡∏ó‡∏§‡∏©‡∏é‡∏µ</h3>
            <p className="text-green-800">{theory.description}</p>
          </div>

          <div className="bg-purple-50 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-purple-900 mb-3">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h3>
            <p className="text-purple-800">{theory.prediction}</p>
          </div>
        </div>

        {/* ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå */}
        <div className="space-y-6">
          <div className="bg-amber-50 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-amber-900 mb-4">‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏§‡∏©‡∏é‡∏µ</h3>
            <div className="space-y-3">
              {theory.factors.map((factor, index) => (
                <div key={index} className="flex items-start gap-3">
                  <span className="bg-amber-200 text-amber-800 px-2 py-1 rounded text-sm font-medium min-w-[24px] text-center">
                    {index + 1}
                  </span>
                  <span className="text-amber-800">{factor}</span>
                </div>
              ))}
            </div>
          </div>

          <div className="bg-gray-50 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-gray-900 mb-3">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£</h3>
            <div className="bg-white p-4 rounded-lg border border-gray-200">
              <code className="text-gray-800 font-mono text-sm break-all">
                {theory.relationships}
              </code>
            </div>
            <p className="text-sm text-gray-600 mt-3">
              üí° ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå: ‚Üí ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á "‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢", + ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á "‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö"
            </p>
          </div>

          <div className="bg-rose-50 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-rose-900 mb-3">‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h3>
            <div className="flex flex-wrap gap-2">
              {theory.keywords.map((keyword, index) => (
                <span key={index} className="bg-rose-200 text-rose-800 px-3 py-1 rounded-full text-sm">
                  {keyword}
                </span>
              ))}
            </div>
          </div>
        </div>
      </div>

      {/* ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á */}
      <div className="mt-8 bg-gray-100 rounded-lg p-6">
        <h3 className="text-lg font-semibold text-gray-900 mb-4">üìñ ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h3>
        <div className="grid md:grid-cols-2 gap-4">
          <div className="bg-white p-4 rounded-lg">
            <h4 className="font-medium text-gray-800 mb-2">‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</h4>
            <p className="text-sm text-gray-600">{theory.author}</p>
          </div>
          <div className="bg-white p-4 rounded-lg">
            <h4 className="font-medium text-gray-800 mb-2">‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ</h4>
            <p className="text-sm text-gray-600">
              ‡∏Ñ‡∏ß‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
            </p>
          </div>
        </div>
      </div>

      {/* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á */}
      <div className="mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-6">
        <h3 className="text-lg font-semibold text-yellow-900 mb-3">‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ó‡∏§‡∏©‡∏é‡∏µ</h3>
        <ul className="text-yellow-800 space-y-2 text-sm">
          <li>‚Ä¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Ç‡∏≠‡∏á‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏Å‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</li>
          <li>‚Ä¢ ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡∏§‡∏©‡∏é‡∏µ</li>
          <li>‚Ä¢ ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢</li>
          <li>‚Ä¢ ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</li>
        </ul>
      </div>
    </div>
  );
};

const ResearchPlanTab = ({ theory, level }) => {
  const getResearchPlan = (theory, level) => {
    const baseplan = {
      type: level >= 2 ? '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÅ‡∏ö‡∏ö‡∏™‡∏≥‡∏£‡∏ß‡∏à (Quantitative Survey Research)' : '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤ (Descriptive Research)',
      philosophy: '‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å‡∏ô‡∏¥‡∏¢‡∏° (Positivism)',
      approach: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÄ‡∏ä‡∏¥‡∏á‡∏ô‡∏¥‡∏£‡∏ô‡∏±‡∏¢ (Deductive Research)',
      strategy: '‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏° (Survey Strategy)',
      timeHorizon: level >= 3 ? '‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤ (Cross-sectional with Longitudinal elements)' : '‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏î (Cross-sectional Study)',
      sampleSize: level === 1 ? '200-300 ‡∏Ñ‡∏ô' : level === 2 ? '300-500 ‡∏Ñ‡∏ô' : '500+ ‡∏Ñ‡∏ô',
      sampling: level >= 2 ? '‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (Multi-stage Sampling)' : '‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ (Simple Random Sampling)'
    };

    return baseplan;
  };

  const plan = getResearchPlan(theory, level);

  const getDataCollectionTools = (theory) => {
    return [
      {
        name: '‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå',
        description: '‡πÉ‡∏ä‡πâ Google Forms ‡∏´‡∏£‡∏∑‡∏≠ SurveyMonkey ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á',
        pros: ['‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤', '‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á', '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ'],
        cons: ['‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏≠‡∏≤‡∏à‡∏ï‡πà‡∏≥', '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ä‡∏µ‡πâ‡πÅ‡∏à‡∏á‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢‡πÑ‡∏î‡πâ']
      },
      {
        name: '‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©',
        description: '‡πÅ‡∏à‡∏Å‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á',
        pros: ['‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡∏á', '‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ‡∏î‡∏µ', '‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï'],
        cons: ['‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô', '‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏π‡∏á', '‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡πâ‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏≠‡∏á']
      }
    ];
  };

  const tools = getDataCollectionTools(theory);

  const getRecommendedPopulation = (theory) => {
    const populations = {
      'digital_marketing': ['‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏∏‡∏î‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤', '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ', '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ'],
      'social_capital': ['‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£', '‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ä‡∏∏‡∏°‡∏ä‡∏ô', '‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ SME'],
      'management': ['‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á-‡∏™‡∏π‡∏á', '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£', '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£']
    };
    return populations[theory.domain] || ['‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ß‡∏¥‡∏à‡∏±‡∏¢'];
  };

  const populations = getRecommendedPopulation(theory);

  return (
    <div className="p-8">
      <div className="mb-8">
        <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-3">
          üìã ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
        </h2>
        <p className="text-gray-600">
          ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏§‡∏©‡∏é‡∏µ {theory.name} ‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö {level}
        </p>
      </div>

      {/* ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢ */}
      <div className="grid lg:grid-cols-2 gap-8 mb-8">
        <div className="bg-blue-50 rounded-lg p-6">
          <h3 className="text-lg font-semibold text-blue-900 mb-4">üî¨ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢</h3>
          <div className="space-y-4">
            <div>
              <h4 className="font-medium text-blue-800 mb-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢:</h4>
              <p className="text-blue-700 text-sm">{plan.type}</p>
            </div>
            <div>
              <h4 className="font-medium text-blue-800 mb-2">‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢:</h4>
              <p className="text-blue-700 text-sm">{plan.philosophy}</p>
            </div>
            <div>
              <h4 className="font-medium text-blue-800 mb-2">‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢:</h4>
              <p className="text-blue-700 text-sm">{plan.approach}</p>
            </div>
            <div>
              <h4 className="font-medium text-blue-800 mb-2">‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢:</h4>
              <p className="text-blue-700 text-sm">{plan.strategy}</p>
            </div>
          </div>
        </div>

        <div className="bg-green-50 rounded-lg p-6">
          <h3 className="text-lg font-semibold text-green-900 mb-4">üë• ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï</h3>
          <div className="space-y-4">
            <div>
              <h4 className="font-medium text-green-800 mb-2">‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</h4>
              <p className="text-green-700 text-sm">{plan.sampleSize}</p>
            </div>
            <div>
              <h4 className="font-medium text-green-800 mb-2">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</h4>
              <p className="text-green-700 text-sm">{plan.sampling}</p>
            </div>
            <div>
              <h4 className="font-medium text-green-800 mb-2">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤:</h4>
              <p className="text-green-700 text-sm">{plan.timeHorizon}</p>
            </div>
          </div>
        </div>
      </div>

      {/* ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ */}
      <div className="mb-8 bg-purple-50 rounded-lg p-6">
        <h3 className="text-lg font-semibold text-purple-900 mb-4">üéØ ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h3>
        <div className="grid md:grid-cols-3 gap-4">
          {populations.map((population, index) => (
            <div key={index} className="bg-white p-4 rounded-lg border border-purple-200">
              <h4 className="font-medium text-purple-800 mb-2">‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà {index + 1}</h4>
              <p className="text-purple-700 text-sm">{population}</p>
            </div>
          ))}
        </div>
        <div className="mt-4 p-4 bg-purple-100 rounded-lg">
          <p className="text-purple-800 text-sm">
            üí° <strong>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô‡∏ó‡∏§‡∏©‡∏é‡∏µ
          </p>
        </div>
      </div>

      {/* ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• */}
      <div className="mb-8">
        <h3 className="text-lg font-semibold text-gray-900 mb-4">üõ†Ô∏è ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h3>
        <div className="grid lg:grid-cols-2 gap-6">
          {tools.map((tool, index) => (
            <div key={index} className="bg-white border border-gray-200 rounded-lg p-6">
              <h4 className="font-semibold text-gray-800 mb-3">{tool.name}</h4>
              <p className="text-gray-600 text-sm mb-4">{tool.description}</p>
              
              <div className="grid md:grid-cols-2 gap-4">
                <div>
                  <h5 className="font-medium text-green-700 mb-2">‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</h5>
                  <ul className="text-sm text-green-600 space-y-1">
                    {tool.pros.map((pro, idx) => (
                      <li key={idx}>‚Ä¢ {pro}</li>
                    ))}
                  </ul>
                </div>
                <div>
                  <h5 className="font-medium text-red-700 mb-2">‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:</h5>
                  <ul className="text-sm text-red-600 space-y-1">
                    {tool.cons.map((con, idx) => (
                      <li key={idx}>‚Ä¢ {con}</li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      {/* Timeline */}
      <div className="bg-amber-50 rounded-lg p-6">
        <h3 className="text-lg font-semibold text-amber-900 mb-4">‚è∞ ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h3>
        <div className="space-y-4">
          {[
            { phase: '‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£', duration: '2-3 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå', tasks: ['‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏§‡∏©‡∏é‡∏µ', '‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°', '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠'] },
            { phase: '‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', duration: '4-6 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå', tasks: ['‡πÅ‡∏à‡∏Å‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°', '‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö', '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå'] },
            { phase: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', duration: level >= 3 ? '6-8 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå' : '3-4 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå', tasks: ['‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥', '‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå'] },
            { phase: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô', duration: '3-4 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå', tasks: ['‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡πà‡∏≤‡∏á', '‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤', '‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢'] }
          ].map((item, index) => (
            <div key={index} className="flex gap-4 items-start">
              <div className="bg-amber-200 text-amber-800 px-3 py-1 rounded-full text-sm font-medium min-w-[100px] text-center">
                {item.duration}
              </div>
              <div className="flex-1">
                <h4 className="font-medium text-amber-900 mb-1">{item.phase}</h4>
                <p className="text-amber-700 text-sm">{item.tasks.join(' ‚Ä¢ ')}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

const StatisticsTab = ({ theory, level }) => {
  const getStatisticalSteps = (level) => {
    const steps = {
      1: [
        {
          step: 1,
          name: '‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
          description: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
          details: ['‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢ (Missing Data)', '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (Outliers)', '‡∏Å‡∏≤‡∏£‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Data Coding)'],
          tools: ['Frequencies', 'Descriptives', 'Missing Value Analysis'],
          duration: '1-2 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 2,
          name: '‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤',
          description: '‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á',
          details: ['‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ö‡∏µ‡∏¢‡∏á‡πÄ‡∏ö‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏£‡πâ‡∏≠‡∏¢‡∏•‡∏∞', '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'],
          tools: ['Descriptive Statistics', 'Frequencies', 'Charts'],
          duration: '1 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 3,
          name: '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô',
          description: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î',
          details: ['Cronbach\'s Alpha ‚â• 0.70', 'Item-Total Correlation ‚â• 0.30', '‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°'],
          tools: ['Reliability Analysis', 'Scale Statistics'],
          duration: '1 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 4,
          name: '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô',
          description: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á',
          details: ['T-test ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢', 'ANOVA ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏Å‡∏•‡∏∏‡πà‡∏°', 'Correlation Analysis'],
          tools: ['Independent T-test', 'One-way ANOVA', 'Pearson Correlation'],
          duration: '2-3 ‡∏ß‡∏±‡∏ô'
        }
      ],
      2: [
        {
          step: 1,
          name: '‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
          description: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
          details: ['Missing Data Analysis', 'Outlier Detection', 'Normality Testing', 'Linearity Assessment'],
          tools: ['Missing Value Analysis', 'Explore', 'Regression Diagnostics'],
          duration: '2-3 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 2,
          name: '‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤',
          description: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å',
          details: ['Descriptive Statistics', 'Correlation Matrix', 'Cross-tabulation'],
          tools: ['Descriptives', 'Correlations', 'Crosstabs'],
          duration: '1-2 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 3,
          name: '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô',
          description: '‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£',
          details: ['Cronbach\'s Alpha ‚â• 0.70', 'Item Analysis', 'Scale Purification'],
          tools: ['Reliability Analysis', 'Item Statistics'],
          duration: '1-2 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 4,
          name: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (EFA)',
          description: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ù‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£',
          details: ['KMO ‚â• 0.60', 'Bartlett\'s Test p < 0.05', 'Factor Loading ‚â• 0.50', 'Total Variance Explained ‚â• 60%'],
          tools: ['Factor Analysis', 'Principal Component'],
          duration: '3-4 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 5,
          name: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡∏ñ‡∏î‡∏ñ‡∏≠‡∏¢‡∏û‡∏´‡∏∏‡∏Ñ‡∏π‡∏ì',
          description: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏',
          details: ['Multiple R ‚â• 0.30', 'R¬≤ ‡πÅ‡∏•‡∏∞ Adjusted R¬≤', 'VIF < 5 (‡πÑ‡∏°‡πà‡∏°‡∏µ Multicollinearity)', 'Residual Analysis'],
          tools: ['Multiple Regression', 'Stepwise Regression'],
          duration: '3-4 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 6,
          name: '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)',
          description: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£',
          details: ['Cluster Analysis', 'Discriminant Analysis', 'ANOVA with Post-hoc'],
          tools: ['K-Means Cluster', 'Discriminant Analysis', 'Post Hoc Tests'],
          duration: '2-3 ‡∏ß‡∏±‡∏ô'
        }
      ],
      3: [
        {
          step: 1,
          name: '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
          description: '‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î',
          details: ['Missing Data Pattern Analysis', 'Multivariate Outliers (Mahalanobis Distance)', 'Normality (Skewness & Kurtosis)', 'Linearity & Homoscedasticity'],
          tools: ['Missing Value Analysis', 'Regression', 'Explore'],
          duration: '3-4 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 2,
          name: '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Common Method Bias (CMB)',
          description: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏Ñ‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
          details: ['Harman\'s Single Factor Test', 'Variance Explained < 50%', 'Marker Variable Technique'],
          tools: ['Factor Analysis', 'SPSS Syntax'],
          duration: '2-3 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 3,
          name: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (EFA)',
          description: '‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏ù‡∏á',
          details: ['KMO ‚â• 0.60', 'Bartlett\'s Test Significant', 'Factor Loading ‚â• 0.50', 'Cross-loading < 0.40'],
          tools: ['Factor Analysis', 'Promax Rotation'],
          duration: '3-4 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 4,
          name: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô (CFA)',
          description: '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î',
          details: ['œá¬≤/df < 3', 'CFI, TLI ‚â• 0.95', 'RMSEA ‚â§ 0.08', 'SRMR ‚â§ 0.08', 'Factor Loading ‚â• 0.70'],
          tools: ['AMOS', 'LISREL', 'Mplus'],
          duration: '4-5 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 5,
          name: '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á',
          description: '‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î',
          details: ['Composite Reliability ‚â• 0.70', 'AVE ‚â• 0.50', 'Discriminant Validity (Fornell-Larcker)', 'HTMT < 0.85'],
          tools: ['AMOS', 'Excel Calculation'],
          duration: '2-3 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 6,
          name: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (SEM)',
          description: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏§‡∏©‡∏é‡∏µ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°',
          details: ['Model Fit Indices', 'Path Coefficients', 'R¬≤ Values', 'Effect Sizes'],
          tools: ['AMOS', 'LISREL', 'Mplus'],
          duration: '4-5 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 7,
          name: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Ñ‡∏±‡πà‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏Å‡∏±‡∏ö',
          description: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏•‡πÑ‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÅ‡∏´‡πà‡∏á‡∏ú‡∏•',
          details: ['Mediation Analysis (Bootstrap)', 'Moderation Analysis', 'Conditional Effects'],
          tools: ['PROCESS Macro', 'AMOS', 'Hayes Method'],
          duration: '3-4 ‡∏ß‡∏±‡∏ô'
        },
        {
          step: 8,
          name: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏•‡∏≤‡∏¢‡∏Å‡∏•‡∏∏‡πà‡∏° (Multi-group Analysis)',
          description: '‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°',
          details: ['Measurement Invariance', 'Structural Invariance', 'Critical Ratio Differences'],
          tools: ['AMOS Multi-group', 'SPSS Syntax'],
          duration: '3-4 ‡∏ß‡∏±‡∏ô'
        }
      ]
    };
    return steps[level] || steps[1];
  };

  const steps = getStatisticalSteps(level);
  const [activeStep, setActiveStep] = React.useState(1);

  const getCriteriaColor = (criteria) => {
    if (criteria.includes('‚â•') || criteria.includes('>')) return 'text-green-700';
    if (criteria.includes('‚â§') || criteria.includes('<')) return 'text-blue-700';
    if (criteria.includes('=')) return 'text-purple-700';
    return 'text-gray-700';
  };

  return (
    <div className="p-8">
      <div className="mb-8">
        <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-3">
          üìä ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (‡∏£‡∏∞‡∏î‡∏±‡∏ö {level})
        </h2>
        <p className="text-gray-600">
          ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏§‡∏©‡∏é‡∏µ {theory.name}
        </p>
      </div>

      {/* Progress Bar */}
      <div className="mb-8 bg-white rounded-lg p-6 shadow-sm">
        <h3 className="text-lg font-semibold text-gray-800 mb-4">üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h3>
        <div className="flex items-center space-x-2 overflow-x-auto pb-4">
          {steps.map((step, index) => (
            <React.Fragment key={step.step}>
              <button
                onClick={() => setActiveStep(step.step)}
                className={`flex-shrink-0 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
                  activeStep === step.step
                    ? 'bg-blue-600 text-white'
                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                }`}
              >
                {step.step}. {step.name}
              </button>
              {index < steps.length - 1 && (
                <div className="flex-shrink-0 text-gray-400">‚Üí</div>
              )}
            </React.Fragment>
          ))}
        </div>
      </div>

      {/* Step Details */}
      <div className="grid lg:grid-cols-3 gap-8">
        {/* Step List */}
        <div className="lg:col-span-1">
          <div className="bg-white rounded-lg shadow-sm overflow-hidden">
            <div className="bg-gray-50 px-6 py-4 border-b">
              <h3 className="font-semibold text-gray-800">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
            </div>
            <div className="space-y-2 p-4">
              {steps.map((step) => (
                <button
                  key={step.step}
                  onClick={() => setActiveStep(step.step)}
                  className={`w-full text-left p-3 rounded-lg transition-colors ${
                    activeStep === step.step
                      ? 'bg-blue-50 border border-blue-200'
                      : 'hover:bg-gray-50 border border-gray-200'
                  }`}
                >
                  <div className="flex items-start gap-3">
                    <span className={`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium ${
                      activeStep === step.step
                        ? 'bg-blue-600 text-white'
                        : 'bg-gray-200 text-gray-600'
                    }`}>
                      {step.step}
                    </span>
                    <div>
                      <h4 className="font-medium text-gray-800 text-sm">{step.name}</h4>
                      <p className="text-xs text-gray-600 mt-1">{step.duration}</p>
                    </div>
                  </div>
                </button>
              ))}
            </div>
          </div>
        </div>

        {/* Active Step Detail */}
        <div className="lg:col-span-2">
          {steps.filter(step => step.step === activeStep).map((step) => (
            <div key={step.step} className="bg-white rounded-lg shadow-sm p-6">
              <div className="mb-6">
                <div className="flex items-center gap-3 mb-3">
                  <span className="bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold">
                    {step.step}
                  </span>
                  <h3 className="text-xl font-bold text-gray-800">{step.name}</h3>
                </div>
                <p className="text-gray-600">{step.description}</p>
                <div className="mt-2 inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                  ‚è±Ô∏è ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: {step.duration}
                </div>
              </div>

              <div className="grid md:grid-cols-2 gap-6">
                <div>
                  <h4 className="font-semibold text-gray-800 mb-3">üìù ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥</h4>
                  <ul className="space-y-2">
                    {step.details.map((detail, index) => (
                      <li key={index} className="flex items-start gap-2">
                        <span className="flex-shrink-0 w-2 h-2 bg-green-500 rounded-full mt-2"></span>
                        <span className={`text-sm ${getCriteriaColor(detail)}`}>{detail}</span>
                      </li>
                    ))}
                  </ul>
                </div>

                <div>
                  <h4 className="font-semibold text-gray-800 mb-3">üõ†Ô∏è ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</h4>
                  <ul className="space-y-2">
                    {step.tools.map((tool, index) => (
                      <li key={index} className="flex items-center gap-2">
                        <span className="flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full"></span>
                        <span className="text-sm text-gray-700 bg-gray-100 px-2 py-1 rounded">
                          {tool}
                        </span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>

              {/* ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° */}
              {step.details.some(detail => detail.includes('‚â•') || detail.includes('‚â§')) && (
                <div className="mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                  <h4 className="font-semibold text-yellow-900 mb-2">üìè ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•</h4>
                  <div className="grid md:grid-cols-2 gap-3 text-sm">
                    {step.details
                      .filter(detail => detail.includes('‚â•') || detail.includes('‚â§') || detail.includes('<') || detail.includes('>'))
                      .map((criteria, index) => (
                        <div key={index} className="bg-white p-2 rounded border">
                          <code className="text-yellow-800">{criteria}</code>
                        </div>
                      ))}
                  </div>
                </div>
              )}
            </div>
          ))}
        </div>
      </div>

      {/* ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */}
      <div className="mt-8 bg-gray-50 rounded-lg p-6">
        <h3 className="text-lg font-semibold text-gray-900 mb-4">üìä ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h3>
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
          <div className="bg-white p-4 rounded-lg">
            <h4 className="font-medium text-green-700 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô (Reliability)</h4>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>‚Ä¢ Cronbach's Alpha ‚â• 0.70</li>
              <li>‚Ä¢ Composite Reliability ‚â• 0.70</li>
              <li>‚Ä¢ Item-Total Correlation ‚â• 0.30</li>
            </ul>
          </div>
          <div className="bg-white p-4 rounded-lg">
            <h4 className="font-medium text-blue-700 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á (Validity)</h4>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>‚Ä¢ Factor Loading ‚â• 0.50 (EFA)</li>
              <li>‚Ä¢ Factor Loading ‚â• 0.70 (CFA)</li>
              <li>‚Ä¢ AVE ‚â• 0.50</li>
            </ul>
          </div>
          <div className="bg-white p-4 rounded-lg">
            <h4 className="font-medium text-purple-700 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏°‡∏Å‡∏•‡∏∑‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•</h4>
            <ul className="text-sm text-gray-600 space-y-1">
              <li>‚Ä¢ CFI, TLI ‚â• 0.95</li>
              <li>‚Ä¢ RMSEA ‚â§ 0.08</li>
              <li>‚Ä¢ œá¬≤/df < 3</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
};

const SPSSGuideTab = ({ theory, level }) => {
  const [activeGuide, setActiveGuide] = React.useState('descriptive');

  const guides = {
    descriptive: {
      title: '‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤',
      icon: 'üìà',
      steps: [
        {
          step: '‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° SPSS',
          instruction: 'File ‚Üí Open ‚Üí Data... ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (.sav, .xlsx, .csv)',
          menu: 'File > Open > Data',
          image: 'üíæ'
        },
        {
          step: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå',
          instruction: 'Analyze ‚Üí Descriptive Statistics ‚Üí Descriptives',
          menu: 'Analyze > Descriptive Statistics > Descriptives',
          image: 'üìä'
        },
        {
          step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå',
          instruction: '‡∏¢‡πâ‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÑ‡∏õ‡∏¢‡∏±‡∏á Variable(s) box ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Options ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Mean, Std. Deviation, Minimum, Maximum',
          menu: 'Options: Mean, Std. Deviation, Min, Max',
          image: '‚öôÔ∏è'
        },
        {
          step: '‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå',
          instruction: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Output Window ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Descriptive Statistics Table',
          menu: 'Output Window',
          image: 'üìã'
        }
      ],
      interpretation: {
        title: '‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå',
        criteria: [
          'Mean: ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ ‡πÉ‡∏ä‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£',
          'Std. Deviation: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏¢‡∏¥‡πà‡∏á‡∏ï‡πà‡∏≥‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠',
          'Skewness: ‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡πâ ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á -2 ‡∏ñ‡∏∂‡∏á +2 ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥',
          'Kurtosis: ‡∏Å‡∏≤‡∏£‡πÅ‡∏´‡∏•‡∏° ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á -2 ‡∏ñ‡∏∂‡∏á +2 ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥'
        ]
      }
    },
    reliability: {
      title: '‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô',
      icon: 'üîí',
      steps: [
        {
          step: '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏°‡∏ô‡∏π Reliability',
          instruction: 'Analyze ‚Üí Scale ‚Üí Reliability Analysis',
          menu: 'Analyze > Scale > Reliability Analysis',
          image: 'üîç'
        },
        {
          step: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô‡∏°‡∏¥‡∏ï‡∏¥‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô',
          instruction: '‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡∏¢‡∏±‡∏á Items box',
          menu: 'Items Selection',
          image: 'üìù'
        },
        {
          step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Statistics',
          instruction: '‡∏Ñ‡∏•‡∏¥‡∏Å Statistics ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Scale if item deleted ‡πÅ‡∏•‡∏∞ Item-total correlations',
          menu: 'Statistics > Scale if item deleted',
          image: 'üìä'
        },
        {
          step: '‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå Cronbach\'s Alpha',
          instruction: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤ Cronbach\'s Alpha ‚â• 0.70 ‡πÅ‡∏•‡∏∞ Corrected Item-Total Correlation ‚â• 0.30',
          menu: 'Reliability Statistics Table',
          image: '‚úÖ'
        }
      ],
      interpretation: {
        title: '‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°',
        criteria: [
          'Cronbach\'s Alpha ‚â• 0.70: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ',
          'Cronbach\'s Alpha ‚â• 0.80: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ',
          'Cronbach\'s Alpha ‚â• 0.90: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏°‡∏≤‡∏Å',
          'Corrected Item-Total Correlation ‚â• 0.30: ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏°‡∏¥‡∏ï‡∏¥'
        ]
      }
    },
    efa: {
      title: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à (EFA)',
      icon: 'üîç',
      steps: [
        {
          step: '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏°‡∏ô‡∏π Factor Analysis',
          instruction: 'Analyze ‚Üí Dimension Reduction ‚Üí Factor',
          menu: 'Analyze > Dimension Reduction > Factor',
          image: 'üéØ'
        },
        {
          step: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
          instruction: '‡∏¢‡πâ‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á Variables box',
          menu: 'Variables Selection',
          image: 'üìã'
        },
        {
          step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Descriptives',
          instruction: '‡∏Ñ‡∏•‡∏¥‡∏Å Descriptives ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å KMO and Bartlett\'s test of sphericity',
          menu: 'Descriptives > KMO and Bartlett test',
          image: 'üìä'
        },
        {
          step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Extraction',
          instruction: '‡∏Ñ‡∏•‡∏¥‡∏Å Extraction ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Principal components ‡∏´‡∏£‡∏∑‡∏≠ Maximum likelihood',
          menu: 'Extraction > Principal Components',
          image: '‚öôÔ∏è'
        },
        {
          step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Rotation',
          instruction: '‡∏Ñ‡∏•‡∏¥‡∏Å Rotation ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Varimax (orthogonal) ‡∏´‡∏£‡∏∑‡∏≠ Promax (oblique)',
          menu: 'Rotation > Varimax/Promax',
          image: 'üîÑ'
        }
      ],
      interpretation: {
        title: '‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° EFA',
        criteria: [
          'KMO ‚â• 0.60: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Factor Analysis',
          'Bartlett\'s Test p < 0.05: ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ô',
          'Factor Loading ‚â• 0.50: ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ô‡∏±‡πâ‡∏ô',
          'Total Variance Explained ‚â• 60%: ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ'
        ]
      }
    },
    regression: {
      title: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡∏ñ‡∏î‡∏ñ‡∏≠‡∏¢‡∏û‡∏´‡∏∏‡∏Ñ‡∏π‡∏ì',
      icon: 'üìà',
      steps: [
        {
          step: '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏°‡∏ô‡∏π Regression',
          instruction: 'Analyze ‚Üí Regression ‚Üí Linear',
          menu: 'Analyze > Regression > Linear',
          image: 'üìà'
        },
        {
          step: '‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£',
          instruction: '‡∏¢‡πâ‡∏≤‡∏¢ Dependent Variable (‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏≤‡∏°) ‡πÅ‡∏•‡∏∞ Independent Variables (‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡πâ‡∏ô)',
          menu: 'Dependent/Independent Variables',
          image: 'üéØ'
        },
        {
          step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Statistics',
          instruction: '‡∏Ñ‡∏•‡∏¥‡∏Å Statistics ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Estimates, Model fit, Collinearity diagnostics',
          menu: 'Statistics > Estimates, Model fit',
          image: 'üìä'
        },
        {
          step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Plots',
          instruction: '‡∏Ñ‡∏•‡∏¥‡∏Å Plots ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å *ZPRED vs *ZRESID ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö assumptions',
          menu: 'Plots > ZPRED vs ZRESID',
          image: 'üìâ'
        }
      ],
      interpretation: {
        title: '‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° Regression',
        criteria: [
          'R Square: ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÑ‡∏î‡πâ (‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á‡∏¢‡∏¥‡πà‡∏á‡∏î‡∏µ)',
          'F-statistic p < 0.05: ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥',
          'Beta Coefficients p < 0.05: ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏°‡∏µ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç',
          'VIF < 5: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Multicollinearity'
        ]
      }
    }
  };

  if (level >= 3) {
    guides.cfa = {
      title: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô (CFA)',
      icon: '‚úÖ',
      steps: [
        {
          step: '‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° AMOS',
          instruction: '‡πÄ‡∏õ‡∏¥‡∏î AMOS Graphics ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Path Diagram ‡πÉ‡∏´‡∏°‡πà',
          menu: 'AMOS Graphics > New Path Diagram',
          image: 'üé®'
        },
        {
          step: '‡∏ß‡∏≤‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î',
          instruction: '‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ Draw latent variables ‡πÅ‡∏•‡∏∞ Draw observed variables',
          menu: 'Draw Tools > Latent/Observed Variables',
image: '‚úèÔ∏è'
       },
       {
         step: '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
         instruction: 'File ‚Üí Data Files ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• SPSS (.sav)',
         menu: 'File > Data Files > Select SPSS file',
         image: 'üîó'
       },
       {
         step: '‡∏£‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå',
         instruction: 'Analyze ‚Üí Calculate Estimates ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î Ctrl+F9',
         menu: 'Analyze > Calculate Estimates',
         image: '‚ñ∂Ô∏è'
       },
       {
         step: '‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå',
         instruction: 'View ‚Üí Text Output ‡∏´‡∏£‡∏∑‡∏≠ View ‚Üí Estimates ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π Fit Indices',
         menu: 'View > Text Output/Estimates',
         image: 'üìä'
       }
     ],
     interpretation: {
       title: '‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° CFA',
       criteria: [
         'œá¬≤/df < 3: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏°‡∏Å‡∏•‡∏∑‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏î‡∏µ',
         'CFI, TLI ‚â• 0.95: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏°‡∏Å‡∏•‡∏∑‡∏ô‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏î‡∏µ',
         'RMSEA ‚â§ 0.08: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≥',
         'SRMR ‚â§ 0.08: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á residual ‡∏ï‡πà‡∏≥',
         'Factor Loading ‚â• 0.70: ‡∏ï‡∏±‡∏ß‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏ù‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ'
       ]
     }
   };

   guides.sem = {
     title: '‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (SEM)',
     icon: 'üèóÔ∏è',
     steps: [
       {
         step: '‡∏™‡∏£‡πâ‡∏≤‡∏á Full Structural Model',
         instruction: '‡πÉ‡∏ô AMOS ‡∏ß‡∏≤‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏° Measurement Model + Structural Model',
         menu: 'AMOS > Draw Full Model',
         image: 'üé®'
       },
       {
         step: '‡∏Å‡∏≥‡∏´‡∏ô‡∏î Path Coefficients',
         instruction: '‡∏ß‡∏≤‡∏î‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡πâ‡∏ô‡πÑ‡∏õ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏≤‡∏° ‡∏ï‡∏≤‡∏°‡∏ó‡∏§‡∏©‡∏é‡∏µ',
         menu: 'Draw Paths > Structural Paths',
         image: '‚û°Ô∏è'
       },
       {
         step: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Model Identification',
         instruction: '‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà (Fix) Factor Loading = 1 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á',
         menu: 'Object Properties > Fix Parameter',
         image: 'üîß'
       },
       {
         step: '‡∏£‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Model Fit',
         instruction: 'Calculate Estimates ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Fit Indices ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
         menu: 'Analyze > Calculate Estimates',
         image: 'üìä'
       },
       {
         step: '‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° Path Coefficients',
         instruction: '‡∏î‡∏π Standardized Estimates ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå',
         menu: 'View > Standardized Estimates',
         image: 'üìà'
       }
     ],
     interpretation: {
       title: '‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° SEM',
       criteria: [
         'Model Fit ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô CFA: œá¬≤/df < 3, CFI ‚â• 0.95, RMSEA ‚â§ 0.08',
         'Path Coefficients p < 0.05: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏°‡∏µ‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç',
         'R¬≤ ‚â• 0.25: ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏û‡∏≠‡∏™‡∏°‡∏Ñ‡∏ß‡∏£',
         'Effect Size: Small (0.10), Medium (0.30), Large (0.50)'
       ]
     }
   };
 }

 const guideKeys = Object.keys(guides);

 return (
   <div className="p-8">
     <div className="mb-8">
       <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-3">
         üíª ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô SPSS (‡∏£‡∏∞‡∏î‡∏±‡∏ö {level})
       </h2>
       <p className="text-gray-600">
         ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô SPSS ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
       </p>
     </div>

     {/* Guide Navigation */}
     <div className="mb-8 bg-white rounded-lg shadow-sm overflow-hidden">
       <div className="flex flex-wrap border-b border-gray-200">
         {guideKeys.map((key) => (
           <button
             key={key}
             onClick={() => setActiveGuide(key)}
             className={`flex-1 min-w-[200px] py-4 px-6 text-center font-medium transition-colors ${
               activeGuide === key
                 ? 'bg-blue-500 text-white border-b-2 border-blue-600'
                 : 'text-gray-600 hover:text-gray-800 hover:bg-gray-50'
             }`}
           >
             <div className="flex items-center justify-center gap-2">
               <span className="text-lg">{guides[key].icon}</span>
               <span className="text-sm">{guides[key].title}</span>
             </div>
           </button>
         ))}
       </div>
     </div>

     {/* Guide Content */}
     <div className="bg-white rounded-lg shadow-sm">
       {Object.entries(guides).map(([key, guide]) => (
         activeGuide === key && (
           <div key={key} className="p-6">
             <div className="mb-6">
               <h3 className="text-xl font-bold text-gray-800 mb-2 flex items-center gap-3">
                 {guide.icon} {guide.title}
               </h3>
             </div>

             {/* Steps */}
             <div className="mb-8">
               <h4 className="text-lg font-semibold text-gray-800 mb-4">üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô</h4>
               <div className="space-y-6">
                 {guide.steps.map((step, index) => (
                   <div key={index} className="flex gap-4 p-4 bg-gray-50 rounded-lg">
                     <div className="flex-shrink-0">
                       <div className="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm">
                         {index + 1}
                       </div>
                     </div>
                     <div className="flex-1">
                       <h5 className="font-semibold text-gray-800 mb-2">{step.step}</h5>
                       <p className="text-gray-700 mb-3">{step.instruction}</p>
                       <div className="bg-white p-2 rounded border border-blue-200">
                         <span className="text-blue-700 font-mono text-sm">
                           üìç ‡πÄ‡∏°‡∏ô‡∏π: {step.menu}
                         </span>
                       </div>
                     </div>
                     <div className="flex-shrink-0 text-3xl">
                       {step.image}
                     </div>
                   </div>
                 ))}
               </div>
             </div>

             {/* Interpretation */}
             <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
               <h4 className="text-lg font-semibold text-yellow-900 mb-4">
                 üìè {guide.interpretation.title}
               </h4>
               <div className="grid md:grid-cols-2 gap-3">
                 {guide.interpretation.criteria.map((criterion, index) => (
                   <div key={index} className="bg-white p-3 rounded border">
                     <span className="text-sm text-yellow-800">{criterion}</span>
                   </div>
                 ))}
               </div>
             </div>

             {/* Template ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô */}
             <div className="mt-8 bg-green-50 border border-green-200 rounded-lg p-6">
               <h4 className="text-lg font-semibold text-green-900 mb-4">üìù Template ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</h4>
               
               {key === 'descriptive' && (
                 <div className="bg-white p-4 rounded border font-mono text-sm">
                   <p className="text-green-800">
                     "‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤ ‡∏û‡∏ö‡∏ß‡πà‡∏≤ ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ [‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£] ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ X.XX (SD = X.XX) 
                     ‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö[‡∏™‡∏π‡∏á/‡∏Å‡∏•‡∏≤‡∏á/‡∏ï‡πà‡∏≥] ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞[‡∏õ‡∏Å‡∏ï‡∏¥/‡πÄ‡∏ö‡πâ‡∏ã‡πâ‡∏≤‡∏¢/‡πÄ‡∏ö‡πâ‡∏Ç‡∏ß‡∏≤] 
                     (Skewness = X.XX, Kurtosis = X.XX)"
                   </p>
                 </div>
               )}

               {key === 'reliability' && (
                 <div className="bg-white p-4 rounded border font-mono text-sm">
                   <p className="text-green-800">
                     "‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏° ‡∏û‡∏ö‡∏ß‡πà‡∏≤ ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ [‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£] ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ Cronbach's Alpha 
                     ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö X.XX ‡∏ã‡∏∂‡πà‡∏á[‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤/‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö]‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ (Œ± ‚â• 0.70) ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô[‡∏ó‡∏µ‡πà‡∏î‡∏µ/‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ]"
                   </p>
                 </div>
               )}

               {key === 'efa' && (
                 <div className="bg-white p-4 rounded border font-mono text-sm">
                   <p className="text-green-800">
                     "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à ‡∏û‡∏ö‡∏ß‡πà‡∏≤ ‡∏Ñ‡πà‡∏≤ KMO ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö X.XX (> 0.60) ‡πÅ‡∏•‡∏∞ Bartlett's Test 
                     ‡∏°‡∏µ‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (p < 0.05) ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö 
                     ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏û‡∏ö‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö X ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô‡πÑ‡∏î‡πâ XX.XX%"
                   </p>
                 </div>
               )}

               {key === 'regression' && (
                 <div className="bg-white p-4 rounded border font-mono text-sm">
                   <p className="text-green-800">
                     "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡∏ñ‡∏î‡∏ñ‡∏≠‡∏¢‡∏û‡∏´‡∏∏‡∏Ñ‡∏π‡∏ì ‡∏û‡∏ö‡∏ß‡πà‡∏≤ ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (F = XX.XX, p < 0.05) 
                     ‡πÇ‡∏î‡∏¢‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡πâ‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏≤‡∏°‡πÑ‡∏î‡πâ XX.XX% (Adjusted R¬≤ = X.XX) 
                     ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£[‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£]‡∏°‡∏µ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏ï‡πà‡∏≠[‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏≤‡∏°]‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (Œ≤ = X.XX, p < 0.05)"
                   </p>
                 </div>
               )}
             </div>

             {/* ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ */}
             <div className="mt-6 bg-red-50 border border-red-200 rounded-lg p-6">
               <h4 className="text-lg font-semibold text-red-900 mb-4">‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢</h4>
               <ul className="space-y-2 text-red-800 text-sm">
                 {key === 'descriptive' && (
                   <>
                     <li>‚Ä¢ ‡∏•‡∏∑‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Missing Values ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</li>
                     <li>‚Ä¢ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Outliers ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</li>
                     <li>‚Ä¢ ‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏± Skewness ‡πÅ‡∏•‡∏∞ Kurtosis ‡∏ú‡∏¥‡∏î</li>
                   </>
                 )}
                 {key === 'reliability' && (
                   <>
                     <li>‚Ä¢ ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö</li>
                     <li>‚Ä¢ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏µ Item-Total Correlation ‡∏ï‡πà‡∏≥</li>
                     <li>‚Ä¢ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Reverse Score ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏ö</li>
                   </>
                 )}
                 {key === 'efa' && (
                   <>
                     <li>‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (< 100)</li>
                     <li>‚Ä¢ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Cross-loading ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö</li>
                     <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏ó‡∏§‡∏©‡∏é‡∏µ</li>
                   </>
                 )}
                 {key === 'regression' && (
                   <>
                     <li>‚Ä¢ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Multicollinearity (VIF)</li>
                     <li>‚Ä¢ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Assumptions ‡∏Ç‡∏≠‡∏á Regression</li>
                     <li>‚Ä¢ ‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° Beta Coefficients ‡∏ú‡∏¥‡∏î‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á</li>
                   </>
                 )}
               </ul>
             </div>
           </div>
         )
       ))}
     </div>
   </div>
 );
};

const ResearchMethodologyAdvisor = () => {
  const [currentPage, setCurrentPage] = React.useState('landing');
  const [researchTopic, setResearchTopic] = React.useState('');
  const [selectedLevel, setSelectedLevel] = React.useState(null);
  const [selectedTheory, setSelectedTheory] = React.useState(null);

  const handleAnalyze = (topic) => {
    setResearchTopic(topic);
    setCurrentPage('level');
  };

  const handleSelectLevel = (level) => {
    setSelectedLevel(level);
    setCurrentPage('theory');
  };

  const handleSelectTheory = (theory) => {
    setSelectedTheory(theory);
    setCurrentPage('results');
  };

  const handleExportPDF = async () => {
    try {
      const element = document.getElementById('export-content');
      if (!element) {
        alert('‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞ Export');
        return;
      }

      // ‡πÅ‡∏™‡∏î‡∏á Loading
      const originalContent = element.innerHTML;
      element.innerHTML = '<div style="padding: 20px; text-align: center;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á PDF...</div>';

      // ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ UI update
      await new Promise(resolve => setTimeout(resolve, 100));

      // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
      element.innerHTML = originalContent;

      // ‡∏™‡∏£‡πâ‡∏≤‡∏á Canvas ‡∏à‡∏≤‡∏Å HTML
      const canvas = await html2canvas(element, {
        scale: 2,
        useCORS: true,
        allowTaint: true,
        backgroundColor: '#ffffff'
      });

      // ‡∏™‡∏£‡πâ‡∏≤‡∏á PDF
      const imgData = canvas.toDataURL('image/png');
      const pdf = new jsPDF('p', 'mm', 'a4');
      
      const imgWidth = 210;
      const pageHeight = 295;
      const imgHeight = (canvas.height * imgWidth) / canvas.width;
      let heightLeft = imgHeight;
      let position = 0;

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
      heightLeft -= pageHeight;

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
      while (heightLeft >= 0) {
        position = heightLeft - imgHeight;
        pdf.addPage();
        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight;
      }

      // Download PDF
      const fileName = `Research_Plan_${selectedTheory?.name.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.pdf`;
      pdf.save(fileName);

    } catch (error) {
      console.error('Error generating PDF:', error);
      alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á PDF ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
    }
  };

  return (
    <div className="min-h-screen">
      {currentPage === 'landing' && (
        <LandingPage onAnalyze={handleAnalyze} />
      )}
      
      {currentPage === 'level' && (
        <LevelSelection 
          researchTopic={researchTopic}
          onSelectLevel={handleSelectLevel}
        />
      )}
      
      {currentPage === 'theory' && (
        <TheorySelection 
          researchTopic={researchTopic}
          selectedLevel={selectedLevel}
          onSelectTheory={handleSelectTheory}
        />
      )}
      
      {currentPage === 'results' && selectedTheory && (
        <ResultsPage 
          researchTopic={researchTopic}
          selectedLevel={selectedLevel}
          selectedTheory={selectedTheory}
          onExportPDF={handleExportPDF}
        />
      )}
    </div>
  );
};

// Render the app
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<ResearchMethodologyAdvisor />);
</script>
</body>
</html>
